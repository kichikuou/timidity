(function(){function s(d,e,r){function t(o,i){if(!e[o]){if(!d[o]){var l="function"==typeof require&&require;if(!i&&l)return l(o,!0);if(n)return n(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var a=e[o]={exports:{}};d[o][0].call(a.exports,function(e){var r=d[o][1][e];return t(r||e)},a,a.exports,s,d,e,r)}return e[o].exports}for(var n="function"==typeof require&&require,o=0;o<r.length;o++)t(r[o]);return t}return s})()({1:[function(e,t){const r=e("debug"),n=e("events").EventEmitter,o=e("./libtimidity"),a=r("timidity"),s=r("timidity:verbose"),i=2,d=2*i,l=16384;class p extends n{constructor(e,t="/"){super(),this.destroyed=!1,t.endsWith("/")||(t+="/"),this._baseUrl=new URL(t,window.location.origin).href,this._ready=!1,this._playing=!1,this._pendingFetches={},this._songPtr=0,this._bufferPtr=0,this._array=new Int16Array(2*l),this._currentUrlOrBuf=null,this._interval=null,this._startInterval=this._startInterval.bind(this),this._stopInterval=this._stopInterval.bind(this),this._audioContext=e.context,this._node=this._audioContext.createScriptProcessor(l,0,i),this._onAudioProcess=this._onAudioProcess.bind(this),this._node.addEventListener("audioprocess",this._onAudioProcess),this._node.connect(e),this._lib=o({locateFile:e=>new URL(e,this._baseUrl).href,onRuntimeInitialized:()=>this._onLibReady()})}_onLibReady(){this._lib.FS.writeFile("/timidity.cfg","\ndrumset 0\n\n 25\tDrum_000/025_Snare_Roll.pat \n 26\tDrum_000/026_Snap.pat \n 27\tDrum_000/027_High_Q.pat \n 31\tDrum_000/031_Sticks.pat \n 32\tDrum_000/032_Square_Click.pat \n 33\tDrum_000/033_Metronome_Click.pat \n 34\tDrum_000/034_Metronome_Bell.pat \n 35\tDrum_000/035_Kick_1.pat amp=100\n 36\tDrum_000/036_Kick_2.pat amp=100\n 37\tDrum_000/037_Stick_Rim.pat \n 38\tDrum_000/038_Snare_1.pat \n 39\tDrum_000/039_Clap_Hand.pat amp=100\n 40\tDrum_000/040_Snare_2.pat \n 41\tDrum_000/041_Tom_Low_2.pat amp=100\n 42\tDrum_000/042_Hi-Hat_Closed.pat \n 43\tDrum_000/043_Tom_Low_1.pat amp=100\n 44\tDrum_000/044_Hi-Hat_Pedal.pat \n 45\tDrum_000/045_Tom_Mid_2.pat amp=100\n 46\tDrum_000/046_Hi-Hat_Open.pat \n 47\tDrum_000/047_Tom_Mid_1.pat amp=100\n 48\tDrum_000/048_Tom_High_2.pat amp=100\n 49\tDrum_000/049_Cymbal_Crash_1.pat \n 50\tDrum_000/050_Tom_High_1.pat amp=100\n 51\tDrum_000/051_Cymbal_Ride_1.pat \n 52\tDrum_000/052_Cymbal_Chinese.pat \n 53\tDrum_000/053_Cymbal_Ride_Bell.pat amp=100\n 54\tDrum_000/054_Tombourine.pat \n 55\tDrum_000/055_Cymbal_Splash.pat \n 56\tDrum_000/056_Cow_Bell.pat \n 57\tDrum_000/057_Cymbal_Crash_2.pat \n 58\tDrum_000/058_Vibra-Slap.pat \n 59\tDrum_000/059_Cymbal_Ride_2.pat \n 60\tDrum_000/060_Bongo_High.pat \n 61\tDrum_000/061_Bongo_Low.pat \n 62\tDrum_000/062_Conga_High_1_Mute.pat \n 63\tDrum_000/063_Conga_High_2_Open.pat \n 64\tDrum_000/064_Conga_Low.pat \n 65\tDrum_000/065_Timbale_High.pat \n 66\tDrum_000/066_Timbale_Low.pat \n 67\tDrum_000/067_Agogo_High.pat \n 68\tDrum_000/068_Agogo_Low.pat \n 69\tDrum_000/069_Cabasa.pat amp=100\n 70\tDrum_000/070_Maracas.pat \n 71\tDrum_000/071_Whistle_1_High_Short.pat \n 72\tDrum_000/072_Whistle_2_Low_Long.pat \n 73\tDrum_000/073_Guiro_1_Short.pat \n 74\tDrum_000/074_Guiro_2_Long.pat \n 75\tDrum_000/075_Claves.pat amp=100\n 76\tDrum_000/076_Wood_Block_1_High.pat \n 77\tDrum_000/077_Wood_Block_2_Low.pat \n 78\tDrum_000/078_Cuica_1_Mute.pat amp=100\n 79\tDrum_000/079_Cuica_2_Open.pat amp=100\n 80\tDrum_000/080_Triangle_1_Mute.pat \n 81\tDrum_000/081_Triangle_2_Open.pat \n 82\tDrum_000/082_Shaker.pat \n 84\tDrum_000/084_Belltree.pat \n\nbank 0\n\n 0\tTone_000/000_Acoustic_Grand_Piano.pat amp=120 pan=center\n 1\tTone_000/001_Acoustic_Brite_Piano.pat \n 2\tTone_000/002_Electric_Grand_Piano.pat \n 4\tTone_000/004_Electric_Piano_1_Rhodes.pat \n 5\tTone_000/005_Electric_Piano_2_Chorused_Yamaha_DX.pat \n 6\tTone_000/006_Harpsichord.pat \n 7\tTone_000/007_Clavinet.pat \n 8\tTone_000/008_Celesta.pat \n 9\tTone_000/009_Glockenspiel.pat \n 13\tTone_000/013_Xylophone.pat \n 14\tTone_000/014_Tubular_Bells.pat \n 15\tTone_000/015_Dulcimer.pat \n 16\tTone_000/016_Hammond_Organ.pat \n 19\tTone_000/019_Church_Organ.pat \n 21\tTone_000/021_Accordion.pat \n 23\tTone_000/023_Tango_Accordion.pat \n 24\tTone_000/024_Nylon_Guitar.pat \n 25\tTone_000/025_Steel_Guitar.pat \n 26\tTone_000/026_Jazz_Guitar.pat \n 27\tTone_000/027_Clean_Electric_Guitar.pat \n 28\tTone_000/028_Muted_Electric_Guitar.pat \n 29\tTone_000/029_Overdriven_Guitar.pat \n 30\tTone_000/030_Distortion_Guitar.pat \n 32\tTone_000/032_Acoustic_Bass.pat \n 33\tTone_000/033_Finger_Bass.pat \n 34\tTone_000/034_Pick_Bass.pat \n 35\tTone_000/035_Fretless_Bass.pat \n 36\tTone_000/036_Slap_Bass_1.pat \n 37\tTone_000/037_Slap_Bass_2.pat \n 38\tTone_000/038_Synth_Bass_1.pat \n 40\tTone_000/040_Violin.pat \n 42\tTone_000/042_Cello.pat \n 44\tTone_000/044_Tremolo_Strings.pat \n 45\tTone_000/045_Pizzicato_Strings.pat \n 46\tTone_000/046_Harp.pat \n 47\tTone_000/047_Timpani.pat \n 48\tTone_000/048_String_Ensemble_1_Marcato.pat \n 53\tTone_000/053_Voice_Oohs.pat \n 56\tTone_000/056_Trumpet.pat \n 57\tTone_000/057_Trombone.pat \n 58\tTone_000/058_Tuba.pat \n 59\tTone_000/059_Muted_Trumpet.pat \n 60\tTone_000/060_French_Horn.pat \n 61\tTone_000/061_Brass_Section.pat \n 64\tTone_000/064_Soprano_Sax.pat \n 65\tTone_000/065_Alto_Sax.pat \n 66\tTone_000/066_Tenor_Sax.pat \n 67\tTone_000/067_Baritone_Sax.pat \n 68\tTone_000/068_Oboe.pat \n 69\tTone_000/069_English_Horn.pat \n 70\tTone_000/070_Bassoon.pat \n 71\tTone_000/071_Clarinet.pat \n 72\tTone_000/072_Piccolo.pat \n 73\tTone_000/073_Flute.pat \n 74\tTone_000/074_Recorder.pat \n 75\tTone_000/075_Pan_Flute.pat \n 76\tTone_000/076_Bottle_Blow.pat \n 79\tTone_000/079_Ocarina.pat \n 80\tTone_000/080_Square_Wave.pat \n 84\tTone_000/084_Charang.pat \n 88\tTone_000/088_New_Age.pat \n 94\tTone_000/094_Halo_Pad.pat \n 95\tTone_000/095_Sweep_Pad.pat \n 98\tTone_000/098_Crystal.pat \n 101\tTone_000/101_Goblins--Unicorn.pat \n 102\tTone_000/102_Echo_Voice.pat \n 104\tTone_000/104_Sitar.pat \n 114\tTone_000/114_Steel_Drums.pat \n 115\tTone_000/115_Wood_Block.pat \n 120\tTone_000/120_Guitar_Fret_Noise.pat \n 122\tTone_000/122_Seashore.pat \n 125\tTone_000/125_Helicopter.pat \n\n");const e=this._lib._mid_init("/timidity.cfg");return 0===e?void(this._bufferPtr=this._lib._malloc(l*d),s("Initialized libtimidity"),this._ready=!0,this.emit("_ready")):this._destroy(new Error("Failed to initialize libtimidity"))}async load(e){if(a("load %o",e),this.destroyed)throw new Error("load() called after destroy()");if(this._audioContext.resume(),this._songPtr&&this._destroySong(),this.emit("unstarted"),this._stopInterval(),!this._ready)return this.once("_ready",()=>this.load(e));this.emit("buffering"),this._currentUrlOrBuf=e;let t;if("string"==typeof e){if(t=await this._fetch(new URL(e,this._baseUrl)),this._currentUrlOrBuf!==e)return;}else if(e instanceof Uint8Array)t=e;else throw new Error("load() expects a `string` or `Uint8Array` argument");let r=this._loadSong(t),n=this._lib._mid_get_load_request_count(r);if(0<n){let o=this._getMissingInstruments(r,n);if(s("Fetching instruments: %o",o),await Promise.all(o.map(e=>this._fetchInstrument(e))),this._currentUrlOrBuf!==e)return;this._lib._mid_song_free(r),r=this._loadSong(t),n=this._lib._mid_get_load_request_count(r),0<n&&(o=this._getMissingInstruments(r,n),a("Playing with missing instruments: %o",o))}this._songPtr=r,this._lib._mid_song_start(this._songPtr),s("Song and instruments are loaded")}_getMissingInstruments(e,t){const r=[];for(let n=0;n<t;n++){const t=this._lib._mid_get_load_request(e,n),o=this._lib.Pointer_stringify(t);r.push(o)}return r}_loadSong(e){const t=this._lib._mid_alloc_options(44100,32784,i,l),r=this._lib._malloc(e.byteLength);this._lib.HEAPU8.set(e,r);const n=this._lib._mid_istream_open_mem(r,e.byteLength),o=this._lib._mid_song_load(n,t);return this._lib._mid_istream_close(n),this._lib._free(t),this._lib._free(r),0===o?this._destroy(new Error("Failed to load MIDI file")):o}async _fetchInstrument(e){if(this._pendingFetches[e])return this._pendingFetches[e];const t=new URL(e,this._baseUrl),r=this._fetch(t);this._pendingFetches[e]=r;const n=await r;return this._writeInstrumentFile(e,n),delete this._pendingFetches[e],n}_writeInstrumentFile(e,t){const r=e.split("/").slice(0,-1).join("/");this._mkdirp(r),this._lib.FS.writeFile(e,t,{encoding:"binary"})}_mkdirp(e){const t=e.split("/");let r="/";for(let n=0;n<t.length;n++){const e=t[n];try{this._lib.FS.mkdir(`${r}${e}`)}catch(e){}r+=`${e}/`}}async _fetch(e){const t=await window.fetch(e,{mode:"cors",credentials:"same-origin"});if(200!==t.status)throw new Error(`Could not load ${e}`);const r=await t.arrayBuffer(),n=new Uint8Array(r);return n}play(){if(a("play"),this.destroyed)throw new Error("play() called after destroy()");this._audioContext.resume(),this._playing=!0,this._ready&&!this._currentUrlOrBuf&&(this.emit("playing"),this._startInterval())}_onAudioProcess(e){const t=this._songPtr&&this._playing?this._readMidiData():0;0<t&&this._currentUrlOrBuf&&(this._currentUrlOrBuf=null,this.emit("playing"),this._startInterval());const r=e.outputBuffer.getChannelData(0),n=e.outputBuffer.getChannelData(1);for(let o=0;o<t;o++)r[o]=this._array[2*o]/32767,n[o]=this._array[2*o+1]/32767;for(let o=t;o<l;o++)r[o]=0,n[o]=0;this._songPtr&&this._playing&&0===t&&(this.seek(0),this.pause(),this._lib._mid_song_start(this._songPtr),this.emit("ended"))}_readMidiData(){const e=this._lib._mid_song_read_wave(this._songPtr,this._bufferPtr,l*d),t=e/d;return 0===t?0:(this._array.set(this._lib.HEAP16.subarray(this._bufferPtr/2,(this._bufferPtr+e)/2)),t)}pause(){if(a("pause"),this.destroyed)throw new Error("pause() called after destroy()");this._playing=!1,this._stopInterval(),this.emit("paused")}seek(e){if(a("seek %d",e),this.destroyed)throw new Error("seek() called after destroy()");if(this._songPtr){const t=Math.floor(1e3*e);this._lib._mid_song_seek(this._songPtr,t),this._onTimeupdate()}}get currentTime(){return this.destroyed||!this._songPtr?0:this._lib._mid_song_get_time(this._songPtr)/1e3}get duration(){return this.destroyed||!this._songPtr?1:this._lib._mid_song_get_total_time(this._songPtr)/1e3}_onTimeupdate(){this.emit("timeupdate",this.currentTime)}_startInterval(){this._onTimeupdate(),this._interval=setInterval(()=>this._onTimeupdate(),1e3)}_stopInterval(){this._onTimeupdate(),clearInterval(this._interval),this._interval=null}destroy(){if(a("destroy"),this.destroyed)throw new Error("destroy() called after destroy()");this._destroy()}_destroy(e){this.destroyed||(this.destroyed=!0,this._stopInterval(),this._array=null,this._songPtr&&this._destroySong(),this._bufferPtr&&(this._lib._free(this._bufferPtr),this._bufferPtr=0),this._node&&(this._node.disconnect(),this._node.removeEventListener("audioprocess",this._onAudioProcess)),e&&this.emit("error",e),a("destroyed (err %o)",e))}_destroySong(){this.pause(),this._lib._mid_song_free(this._songPtr),this._songPtr=0}}t.exports=p},{"./libtimidity":2,debug:6,events:8}],2:[function(e,t,r){var n=Math.min,o=String.fromCharCode;(function(a,s){var i=function(t){function r(e){d(!_e);var t=me;return me=-16&me+e+15,t}function i(e,t){t||(t=16);var r=e=X(e/t)*t;return r}function d(e,t){e||Y("Assertion failed: "+t)}function l(e,r){if(0===r||!e)return"";for(var a,s=0,d=0;(a=oe[e+d>>0],s|=a,0!=a||r)&&(d++,!(r&&d==r)););r||(r=d);var l="";if(128>s){for(var p,m=1024;0<r;)p=o.apply(String,oe.subarray(e,e+n(r,m))),l=l?l+p:p,e+=m,r-=m;return l}return u(e)}function p(e,t){for(var r=t;e[r];)++r;if(16<r-t&&e.subarray&&ke)return ke.decode(e.subarray(t,r));for(var n,a,s,i,d,l,p="";;){if(n=e[t++],!n)return p;if(!(128&n)){p+=o(n);continue}if(a=63&e[t++],192==(224&n)){p+=o((31&n)<<6|a);continue}if(s=63&e[t++],224==(240&n)?n=(15&n)<<12|a<<6|s:(i=63&e[t++],240==(248&n)?n=(7&n)<<18|a<<12|s<<6|i:(d=63&e[t++],248==(252&n)?n=(3&n)<<24|a<<18|s<<12|i<<6|d:(l=63&e[t++],n=(1&n)<<30|a<<24|s<<18|i<<12|d<<6|l))),65536>n)p+=o(n);else{var u=n-65536;p+=o(55296|u>>10,56320|1023&u)}}}function u(e){return p(oe,e)}function m(e,t,r,n){if(!(0<n))return 0;for(var o,a=r,s=r+n-1,d=0;d<e.length;++d)if(o=e.charCodeAt(d),55296<=o&&57343>=o&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++d)),127>=o){if(r>=s)break;t[r++]=o}else if(2047>=o){if(r+1>=s)break;t[r++]=192|o>>6,t[r++]=128|63&o}else if(65535>=o){if(r+2>=s)break;t[r++]=224|o>>12,t[r++]=128|63&o>>6,t[r++]=128|63&o}else if(2097151>=o){if(r+3>=s)break;t[r++]=240|o>>18,t[r++]=128|63&o>>12,t[r++]=128|63&o>>6,t[r++]=128|63&o}else if(67108863>=o){if(r+4>=s)break;t[r++]=248|o>>24,t[r++]=128|63&o>>18,t[r++]=128|63&o>>12,t[r++]=128|63&o>>6,t[r++]=128|63&o}else{if(r+5>=s)break;t[r++]=252|o>>30,t[r++]=128|63&o>>24,t[r++]=128|63&o>>18,t[r++]=128|63&o>>12,t[r++]=128|63&o>>6,t[r++]=128|63&o}return t[r]=0,r-a}function _(e,t,r){return m(e,oe,t,r)}function c(e){for(var t,r=0,n=0;n<e.length;++n)t=e.charCodeAt(n),55296<=t&&57343>=t&&(t=65536+((1023&t)<<10)|1023&e.charCodeAt(++n)),127>=t?++r:2047>=t?r+=2:65535>=t?r+=3:2097151>=t?r+=4:67108863>=t?r+=5:r+=6;return r}function g(e){return e}function f(e){var t=/__Z[\w\d_]+/g;return e.replace(t,function(e){var t=g(e);return e===t?e:e+" ["+t+"]"})}function E(){var t=new Error;if(!t.stack){try{throw new Error(0)}catch(r){t=r}if(!t.stack)return"(no stack trace available)"}return t.stack.toString()}function h(){var e=E();return Q.extraStackTrace&&(e+="\n"+Q.extraStackTrace()),f(e)}function y(e,t){return 0<e%t&&(e+=t-e%t),e}function b(e){Q.buffer=re=e}function T(){Q.HEAP8=ne=new Int8Array(re),Q.HEAP16=ae=new Int16Array(re),Q.HEAP32=ie=new Int32Array(re),Q.HEAPU8=oe=new Uint8Array(re),Q.HEAPU16=se=new Uint16Array(re),Q.HEAPU32=de=new Uint32Array(re),Q.HEAPF32=le=new Float32Array(re),Q.HEAPF64=pe=new Float64Array(re)}function k(){Y("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+Se+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")}function C(){var e=Q.usingWasm?65536:16777216,t=2147483648-e;if(ie[he>>2]>t)return!1;var r=Se;for(Se=q(Se,16777216);Se<ie[he>>2];)Se=536870912>=Se?y(2*Se,e):n(y((3*Se+2147483648)/4,e),t);var o=Q.reallocBuffer(Se);return o&&o.byteLength==Se?(b(o),T(),!0):(Se=r,!1)}function D(){return Se}function v(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t){t();continue}var r=t.func;"number"==typeof r?void 0===t.arg?Q.dynCall_v(r):Q.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}}function S(){if(Q.preRun)for("function"==typeof Q.preRun&&(Q.preRun=[Q.preRun]);Q.preRun.length;)F(Q.preRun.shift());v(we)}function w(){Pe||(Pe=!0,v(Ne))}function N(){v(Oe)}function O(){v(Ae),Be=!0}function A(){if(Q.postRun)for("function"==typeof Q.postRun&&(Q.postRun=[Q.postRun]);Q.postRun.length;)P(Q.postRun.shift());v(Fe)}function F(e){we.unshift(e)}function P(e){Fe.unshift(e)}function B(e){return e}function L(){$e++,Q.monitorRunDependencies&&Q.monitorRunDependencies($e)}function I(){if($e--,Q.monitorRunDependencies&&Q.monitorRunDependencies($e),0==$e&&(null!==Ze&&(clearInterval(Ze),Ze=null),et)){var e=et;et=null,e()}}function R(e){return String.prototype.startsWith?e.startsWith("data:application/octet-stream;base64,"):0===e.indexOf("data:application/octet-stream;base64,")}function x(e){return Q.___errno_location&&(ie[Q.___errno_location()>>2]=e),e}function M(e,t){it.varargs=t;try{var r=it.getStreamFromFD(),n=it.get(),o=it.get(),a=it.get(),s=it.get(),i=o;return st.llseek(r,i,s),ie[a>>2]=r.position,r.getdents&&0===i&&0===s&&(r.getdents=null),0}catch(t){return"undefined"!=typeof st&&t instanceof st.ErrnoError||Y(t),-t.errno}}function U(e,t){it.varargs=t;try{var r=it.getStreamFromFD(),n=it.get();switch(n){case 0:{var o=it.get();if(0>o)return-tt.EINVAL;var a;return a=st.open(r.path,r.flags,0,o),a.fd};case 1:case 2:return 0;case 3:return r.flags;case 4:{var o=it.get();return r.flags|=o,0};case 12:case 12:{var o=it.get();return ae[o+0>>1]=2,0};case 13:case 14:case 13:case 14:return 0;case 16:case 8:return-tt.EINVAL;case 9:return x(tt.EINVAL),-1;default:return-tt.EINVAL;}}catch(t){return"undefined"!=typeof st&&t instanceof st.ErrnoError||Y(t),-t.errno}}function z(e,t){it.varargs=t;try{var r=it.getStreamFromFD(),n=it.get();switch(n){case 21509:case 21505:return r.tty?0:-tt.ENOTTY;;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return r.tty?0:-tt.ENOTTY;;case 21519:{if(!r.tty)return-tt.ENOTTY;var o=it.get();return ie[o>>2]=0,0};case 21520:return r.tty?-tt.EINVAL:-tt.ENOTTY;;case 21531:{var o=it.get();return st.ioctl(r,n,o)};case 21523:return r.tty?0:-tt.ENOTTY;;case 21524:return r.tty?0:-tt.ENOTTY;;default:Y("bad ioctl syscall "+n);}}catch(t){return"undefined"!=typeof st&&t instanceof st.ErrnoError||Y(t),-t.errno}}function H(e,t,r){return oe.set(oe.subarray(t,t+r),e),e}function j(e,t,r){var n=0<r?r:c(e)+1,o=Array(n),a=m(e,o,0,o.length);return t&&(o.length=a),o}function V(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function G(e){function t(){Q.calledRun||(Q.calledRun=!0,be||(w(),N(),Q.onRuntimeInitialized&&Q.onRuntimeInitialized(),A()))}(e=e||Q.arguments,!(0<$e))&&(S(),0<$e||Q.calledRun||(Q.setStatus?(Q.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Q.setStatus("")},1),t()},1)):t()))}function W(e,t){t&&Q.noExitRuntime&&0===e||(Q.noExitRuntime||(be=!0,Te=e,ge=wt,O(),Q.onExit&&Q.onExit(e)),ee&&a.exit(e),Q.quit(e,new V(e)))}function Y(e){throw Q.onAbort&&Q.onAbort(e),void 0===e?e="":(Q.print(e),Q.printErr(e),e=JSON.stringify(e)),be=!0,Te=1,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}var q=Math.max,X=Math.ceil;t=t||{};var K,Q="undefined"==typeof t?{}:t,J={};for(K in Q)Q.hasOwnProperty(K)&&(J[K]=Q[K]);Q.arguments=[],Q.thisProgram="./this.program",Q.quit=function(e,t){throw t},Q.preRun=[],Q.postRun=[];var $=!1,Z=!1,ee=!1,te=!1;if(!Q.ENVIRONMENT)$="object"==typeof window,Z="function"==typeof importScripts,ee="object"==typeof a&&"function"==typeof e&&!$&&!Z,te=!$&&!ee&&!Z;else if("WEB"===Q.ENVIRONMENT)$=!0;else if("WORKER"===Q.ENVIRONMENT)Z=!0;else if("NODE"===Q.ENVIRONMENT)ee=!0;else if("SHELL"===Q.ENVIRONMENT)te=!0;else throw new Error("Module['ENVIRONMENT'] value is not valid. must be one of: WEB|WORKER|NODE|SHELL.");if($||Z)Q.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},Z&&(Q.readBinary=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),Q.readAsync=function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){return 200==n.status||0==n.status&&n.response?void t(n.response):void r()},n.onerror=r,n.send(null)},Q.setWindowTitle=function(e){document.title=e};else throw new Error("not compiled for this environment");for(K in Q.print="undefined"==typeof console?"undefined"==typeof print?null:print:console.log.bind(console),Q.printErr="undefined"==typeof printErr?"undefined"!=typeof console&&console.warn.bind(console)||Q.print:printErr,Q.print=Q.print,Q.printErr=Q.printErr,J)J.hasOwnProperty(K)&&(Q[K]=J[K]);J=void 0;var re,ne,oe,ae,se,ie,de,le,pe,ue,me,_e,ce,ge,fe,Ee,he,ye={"f64-rem":function(e,t){return e%t},debugger:function(){debugger}},be=0,Te=0,ke="undefined"==typeof TextDecoder?void 0:new TextDecoder("utf8"),Ce="undefined"==typeof TextDecoder?void 0:new TextDecoder("utf-16le");ue=me=ce=ge=fe=Ee=he=0,_e=!1,Q.reallocBuffer||(Q.reallocBuffer=function(e){var t;try{if(ArrayBuffer.transfer)t=ArrayBuffer.transfer(re,e);else{var r=ne;t=new ArrayBuffer(e);var n=new Int8Array(t);n.set(r)}}catch(t){return!1}var o=pt(t);return!!o&&t});var De;try{De=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get),De(new ArrayBuffer(4))}catch(t){De=function(e){return e.byteLength}}var ve=Q.TOTAL_STACK||5242880,Se=Q.TOTAL_MEMORY||16777216;if(Se<ve&&Q.printErr("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+Se+"! (TOTAL_STACK="+ve+")"),Q.buffer?re=Q.buffer:("object"==typeof WebAssembly&&"function"==typeof WebAssembly.Memory?(Q.wasmMemory=new WebAssembly.Memory({initial:Se/65536}),re=Q.wasmMemory.buffer):re=new ArrayBuffer(Se),Q.buffer=re),T(),ie[0]=1668509029,ae[1]=25459,115!==oe[2]||99!==oe[3])throw"Runtime error: expected the system to be little-endian!";var we=[],Ne=[],Oe=[],Ae=[],Fe=[],Pe=!1,Be=!1,Le=Math.abs,Ie=Math.cos,Re=Math.sin,xe=Math.tan,Me=Math.acos,Ue=Math.asin,ze=Math.atan,He=Math.atan2,je=Math.exp,Ve=Math.log,Ge=Math.sqrt,We=Math.floor,Ye=Math.pow,qe=Math.imul,Xe=Math.fround,Ke=Math.round,Qe=Math.clz32,Je=Math.trunc,$e=0,Ze=null,et=null;Q.preloadedImages={},Q.preloadedAudios={};(function(){function e(e){var t=Q.buffer;e.byteLength<t.byteLength&&Q.printErr("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");var r=new Int8Array(t),n=new Int8Array(e);n.set(r),b(e),T()}function t(e){return e}function r(){try{if(Q.wasmBinary)return new Uint8Array(Q.wasmBinary);if(Q.readBinary)return Q.readBinary(s);throw"on the web, we need the wasm binary to be preloaded and set on Module['wasmBinary']. emcc.py will do that for you when generating HTML (but not JS)"}catch(e){Y(e)}}function n(){return!Q.wasmBinary&&($||Z)&&"function"==typeof fetch?fetch(s,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+s+"'";return e.arrayBuffer()}).catch(function(){return r()}):new Promise(function(e){e(r())})}function o(t,r){function o(t){p=t.exports,p.memory&&e(p.memory),Q.asm=p,Q.usingWasm=!0,I("wasm-instantiate")}function a(e){o(e.instance,e.module)}function i(e){n().then(function(e){return WebAssembly.instantiate(e,l)}).then(e).catch(function(e){Q.printErr("failed to asynchronously prepare wasm: "+e),Y(e)})}if("object"!=typeof WebAssembly)return Q.printErr("no native wasm support detected"),!1;if(!(Q.wasmMemory instanceof WebAssembly.Memory))return Q.printErr("no native wasm Memory in use"),!1;if(r.memory=Q.wasmMemory,l.global={NaN:NaN,Infinity:1/0},l["global.Math"]=Math,l.env=r,L("wasm-instantiate"),Q.instantiateWasm)try{return Q.instantiateWasm(l,o)}catch(t){return Q.printErr("Module.instantiateWasm callback failed with error: "+t),!1}return Q.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||R(s)||"function"!=typeof fetch?i(a):WebAssembly.instantiateStreaming(fetch(s,{credentials:"same-origin"}),l).then(a).catch(function(e){Q.printErr("wasm streaming compile failed: "+e),Q.printErr("falling back to ArrayBuffer instantiation"),i(a)}),{}}var a="libtimidity.wast",s="libtimidity.wasm",i="libtimidity.temp.asm.js";"function"==typeof Q.locateFile&&(!R(a)&&(a=Q.locateFile(a)),!R(s)&&(s=Q.locateFile(s)),!R(i)&&(i=Q.locateFile(i)));var l={global:null,env:null,asm2wasm:ye,parent:Q},p=null;Q.asmPreload=Q.asm;var u=Q.reallocBuffer,m=function(e){var t=Q.usingWasm?65536:16777216;e=y(e,t);var r=Q.buffer,n=r.byteLength;if(Q.usingWasm)try{var o=Q.wasmMemory.grow((e-n)/65536);return-1===o?null:Q.buffer=Q.wasmMemory.buffer}catch(t){return null}};Q.reallocBuffer=function(e){return"asmjs"===_?u(e):m(e)};var _="";Q.asm=function(e,r,n){if(r=t(r),!r.table){var a=Q.wasmTableSize;void 0===a&&(a=1024);var s=Q.wasmMaxTableSize;r.table="object"==typeof WebAssembly&&"function"==typeof WebAssembly.Table?void 0===s?new WebAssembly.Table({initial:a,element:"anyfunc"}):new WebAssembly.Table({initial:a,maximum:s,element:"anyfunc"}):Array(a),Q.wasmTable=r.table}r.memoryBase||(r.memoryBase=Q.STATIC_BASE),r.tableBase||(r.tableBase=0);var i;return i=o(e,r,n),d(i,"no binaryen method succeeded."),i}})(),ue=1024,me=ue+9600,Ne.push();Q.STATIC_BASE=ue,Q.STATIC_BUMP=9600,me+=16;var tt={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86},rt={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},nt={splitPath:function(e){var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return t.exec(e).slice(1)},normalizeArray:function(e,t){for(var r,n=0,o=e.length-1;0<=o;o--)r=e[o],"."===r?e.splice(o,1):".."===r?(e.splice(o,1),n++):n&&(e.splice(o,1),n--);if(t)for(;n;n--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),r="/"===e.substr(-1);return e=nt.normalizeArray(e.split("/").filter(function(e){return!!e}),!t).join("/"),e||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=nt.splitPath(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return nt.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return nt.normalize(e.join("/"))},join2:function(e,t){return nt.normalize(e+"/"+t)},resolve:function(){for(var e,t="",r=!1,n=arguments.length-1;-1<=n&&!r;n--){if(e=0<=n?arguments[n]:st.cwd(),"string"!=typeof e)throw new TypeError("Arguments to path.resolve must be strings");else if(!e)return"";t=e+"/"+t,r="/"===e.charAt(0)}return t=nt.normalizeArray(t.split("/").filter(function(e){return!!e}),!r).join("/"),(r?"/":"")+t||"."},relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;0<=r&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=nt.resolve(e).substr(1),t=nt.resolve(t).substr(1);for(var o=r(e.split("/")),a=r(t.split("/")),s=n(o.length,a.length),d=s,l=0;l<s;l++)if(o[l]!==a[l]){d=l;break}for(var p=[],l=d;l<o.length;l++)p.push("..");return p=p.concat(a.slice(d)),p.join("/")}},ot={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){ot.ttys[e]={input:[],output:[],ops:t},st.registerDevice(e,ot.stream_ops)},stream_ops:{open:function(e){var t=ot.ttys[e.node.rdev];if(!t)throw new st.ErrnoError(tt.ENODEV);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,r,n){if(!e.tty||!e.tty.ops.get_char)throw new st.ErrnoError(tt.ENXIO);for(var o=0,a=0;a<n;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(t){throw new st.ErrnoError(tt.EIO)}if(void 0===s&&0===o)throw new st.ErrnoError(tt.EAGAIN);if(null===s||void 0===s)break;o++,t[r+a]=s}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,r,n){if(!e.tty||!e.tty.ops.put_char)throw new st.ErrnoError(tt.ENXIO);for(var o=0;o<n;o++)try{e.tty.ops.put_char(e.tty,t[r+o])}catch(t){throw new st.ErrnoError(tt.EIO)}return n&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(ee){var r=new s(256),n=0,o="win32"!=a.platform,i=a.stdin.fd;if(o){var d=!1;try{i=fs.openSync("/dev/stdin","r"),d=!0}catch(t){}}try{n=fs.readSync(i,r,0,256,null)}catch(t){if(-1!=t.toString().indexOf("EOF"))n=0;else throw t}d&&fs.closeSync(i),t=0<n?r.slice(0,n).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?(t=window.prompt("Input: "),null!==t&&(t+="\n")):"function"==typeof readline&&(t=readline(),null!==t&&(t+="\n"));if(!t)return null;e.input=j(t,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(Q.print(p(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(Q.print(p(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(Q.printErr(p(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&0<e.output.length&&(Q.printErr(p(e.output,0)),e.output=[])}}},at={ops_table:null,mount:function(){return at.createNode(null,"/",16895,0)},createNode:function(e,t,r,n){if(st.isBlkdev(r)||st.isFIFO(r))throw new st.ErrnoError(tt.EPERM);at.ops_table||(at.ops_table={dir:{node:{getattr:at.node_ops.getattr,setattr:at.node_ops.setattr,lookup:at.node_ops.lookup,mknod:at.node_ops.mknod,rename:at.node_ops.rename,unlink:at.node_ops.unlink,rmdir:at.node_ops.rmdir,readdir:at.node_ops.readdir,symlink:at.node_ops.symlink},stream:{llseek:at.stream_ops.llseek}},file:{node:{getattr:at.node_ops.getattr,setattr:at.node_ops.setattr},stream:{llseek:at.stream_ops.llseek,read:at.stream_ops.read,write:at.stream_ops.write,allocate:at.stream_ops.allocate,mmap:at.stream_ops.mmap,msync:at.stream_ops.msync}},link:{node:{getattr:at.node_ops.getattr,setattr:at.node_ops.setattr,readlink:at.node_ops.readlink},stream:{}},chrdev:{node:{getattr:at.node_ops.getattr,setattr:at.node_ops.setattr},stream:st.chrdev_stream_ops}});var o=st.createNode(e,t,r,n);return st.isDir(o.mode)?(o.node_ops=at.ops_table.dir.node,o.stream_ops=at.ops_table.dir.stream,o.contents={}):st.isFile(o.mode)?(o.node_ops=at.ops_table.file.node,o.stream_ops=at.ops_table.file.stream,o.usedBytes=0,o.contents=null):st.isLink(o.mode)?(o.node_ops=at.ops_table.link.node,o.stream_ops=at.ops_table.link.stream):st.isChrdev(o.mode)&&(o.node_ops=at.ops_table.chrdev.node,o.stream_ops=at.ops_table.chrdev.stream),o.timestamp=Date.now(),e&&(e.contents[t]=o),o},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],r=0;r<e.usedBytes;++r)t.push(e.contents[r]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,t){if(e.contents&&e.contents.subarray&&t>e.contents.length&&(e.contents=at.getFileDataAsRegularArray(e),e.usedBytes=e.contents.length),!e.contents||e.contents.subarray){var r=e.contents?e.contents.length:0;if(r>=t)return;t=q(t,0|r*(1048576>r?2:1.125)),0!=r&&(t=q(t,256));var n=e.contents;return e.contents=new Uint8Array(t),void(0<e.usedBytes&&e.contents.set(n.subarray(0,e.usedBytes),0))}for(!e.contents&&0<t&&(e.contents=[]);e.contents.length<t;)e.contents.push(0)},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var r=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),r&&e.contents.set(r.subarray(0,n(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=st.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,t.size=st.isDir(e.mode)?4096:st.isFile(e.mode)?e.usedBytes:st.isLink(e.mode)?e.link.length:0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=X(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&at.resizeFileStorage(e,t.size)},lookup:function(){throw st.genericErrors[tt.ENOENT]},mknod:function(e,t,r,n){return at.createNode(e,t,r,n)},rename:function(e,t,r){if(st.isDir(e.mode)){var n;try{n=st.lookupNode(t,r)}catch(t){}if(n)for(var o in n.contents)throw new st.ErrnoError(tt.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=r,t.contents[r]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var r=st.lookupNode(e,t);for(var n in r.contents)throw new st.ErrnoError(tt.ENOTEMPTY);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,t,r){var n=at.createNode(e,t,41471,0);return n.link=r,n},readlink:function(e){if(!st.isLink(e.mode))throw new st.ErrnoError(tt.EINVAL);return e.link}},stream_ops:{read:function(e,t,r,o,a){var s=e.node.contents;if(a>=e.node.usedBytes)return 0;var l=n(e.node.usedBytes-a,o);if(d(0<=l),8<l&&s.subarray)t.set(s.subarray(a,a+l),r);else for(var p=0;p<l;p++)t[r+p]=s[a+p];return l},write:function(e,t,r,n,o,a){if(!n)return 0;var s=e.node;if(s.timestamp=Date.now(),t.subarray&&(!s.contents||s.contents.subarray)){if(a)return s.contents=t.subarray(r,r+n),s.usedBytes=n,n;if(0===s.usedBytes&&0===o)return s.contents=new Uint8Array(t.subarray(r,r+n)),s.usedBytes=n,n;if(o+n<=s.usedBytes)return s.contents.set(t.subarray(r,r+n),o),n}if(at.expandFileStorage(s,o+n),s.contents.subarray&&t.subarray)s.contents.set(t.subarray(r,r+n),o);else for(var d=0;d<n;d++)s.contents[o+d]=t[r+d];return s.usedBytes=q(s.usedBytes,o+n),n},llseek:function(e,t,r){var n=t;if(1===r?n+=e.position:2==r&&st.isFile(e.node.mode)&&(n+=e.node.usedBytes),0>n)throw new st.ErrnoError(tt.EINVAL);return n},allocate:function(e,t,r){at.expandFileStorage(e.node,t+r),e.node.usedBytes=q(e.node.usedBytes,t+r)},mmap:function(e,t,r,n,o,a,s){if(!st.isFile(e.node.mode))throw new st.ErrnoError(tt.ENODEV);var i,d,l=e.node.contents;if(!(2&s)&&(l.buffer===t||l.buffer===t.buffer))d=!1,i=l.byteOffset;else{if((0<o||o+n<e.node.usedBytes)&&(l.subarray?l=l.subarray(o,o+n):l=Array.prototype.slice.call(l,o,o+n)),d=!0,i=mt(n),!i)throw new st.ErrnoError(tt.ENOMEM);t.set(l,i)}return{ptr:i,allocated:d}},msync:function(e,t,r,n,o){if(!st.isFile(e.node.mode))throw new st.ErrnoError(tt.ENODEV);if(2&o)return 0;at.stream_ops.write(e,t,0,n,r,!1);return 0}}};me+=16,me+=16,me+=16;var st={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(t){if(!(t instanceof st.ErrnoError))throw t+" : "+h();return x(t.errno)},lookupPath:function(e,t){if(e=nt.resolve(st.cwd(),e),t=t||{},!e)return{path:"",node:null};var r={follow_mount:!0,recurse_count:0};for(var n in r)void 0===t[n]&&(t[n]=r[n]);if(8<t.recurse_count)throw new st.ErrnoError(tt.ELOOP);for(var o,a=nt.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),s=st.root,d="/",l=0;l<a.length&&(o=l==a.length-1,!(o&&t.parent));l++)if(s=st.lookupNode(s,a[l]),d=nt.join2(d,a[l]),st.isMountpoint(s)&&(!o||o&&t.follow_mount)&&(s=s.mounted.root),!o||t.follow)for(var p,u=0;st.isLink(s.mode);){p=st.readlink(d),d=nt.resolve(nt.dirname(d),p);var m=st.lookupPath(d,{recurse_count:t.recurse_count});if(s=m.node,40<u++)throw new st.ErrnoError(tt.ELOOP)}return{path:d,node:s}},getPath:function(e){for(var t;;){if(st.isRoot(e)){var r=e.mount.mountpoint;return t?"/"===r[r.length-1]?r+t:r+"/"+t:r}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var r=0,n=0;n<t.length;n++)r=0|(r<<5)-r+t.charCodeAt(n);return(e+r>>>0)%st.nameTable.length},hashAddNode:function(e){var t=st.hashName(e.parent.id,e.name);e.name_next=st.nameTable[t],st.nameTable[t]=e},hashRemoveNode:function(e){var t=st.hashName(e.parent.id,e.name);if(st.nameTable[t]===e)st.nameTable[t]=e.name_next;else for(var r=st.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:function(e,t){var r=st.mayLookup(e);if(r)throw new st.ErrnoError(r,e);for(var n,o=st.hashName(e.id,t),a=st.nameTable[o];a;a=a.name_next)if(n=a.name,a.parent.id===e.id&&n===t)return a;return st.lookup(e,t)},createNode:function(e,t,r,n){if(!st.FSNode){st.FSNode=function(e,t,r,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=st.nextInode++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n},st.FSNode.prototype={};var o=146;Object.defineProperties(st.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&o)===o},set:function(e){e?this.mode|=o:this.mode&=~o}},isFolder:{get:function(){return st.isDir(this.mode)}},isDevice:{get:function(){return st.isChrdev(this.mode)}}})}var a=new st.FSNode(e,t,r,n);return st.hashAddNode(a),a},destroyNode:function(e){st.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=st.flagModes[e];if("undefined"==typeof t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return st.ignorePermissions?0:-1===t.indexOf("r")||292&e.mode?-1===t.indexOf("w")||146&e.mode?-1===t.indexOf("x")||73&e.mode?0:tt.EACCES:tt.EACCES:tt.EACCES},mayLookup:function(e){var t=st.nodePermissions(e,"x");return t?t:e.node_ops.lookup?0:tt.EACCES},mayCreate:function(e,t){try{st.lookupNode(e,t);return tt.EEXIST}catch(t){}return st.nodePermissions(e,"wx")},mayDelete:function(e,t,r){var n;try{n=st.lookupNode(e,t)}catch(t){return t.errno}var o=st.nodePermissions(e,"wx");if(o)return o;if(r){if(!st.isDir(n.mode))return tt.ENOTDIR;if(st.isRoot(n)||st.getPath(n)===st.cwd())return tt.EBUSY}else if(st.isDir(n.mode))return tt.EISDIR;return 0},mayOpen:function(e,t){return e?st.isLink(e.mode)?tt.ELOOP:st.isDir(e.mode)&&("r"!==st.flagsToPermissionString(t)||512&t)?tt.EISDIR:st.nodePermissions(e,st.flagsToPermissionString(t)):tt.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||st.MAX_OPEN_FDS;for(var r=e;r<=t;r++)if(!st.streams[r])return r;throw new st.ErrnoError(tt.EMFILE)},getStream:function(e){return st.streams[e]},createStream:function(e,t,r){st.FSStream||(st.FSStream=function(){},st.FSStream.prototype={},Object.defineProperties(st.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var n=new st.FSStream;for(var o in e)n[o]=e[o];e=n;var a=st.nextfd(t,r);return e.fd=a,st.streams[a]=e,e},closeStream:function(e){st.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=st.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new st.ErrnoError(tt.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){st.devices[e]={stream_ops:t}},getDevice:function(e){return st.devices[e]},getMounts:function(e){for(var t,r=[],n=[e];n.length;)t=n.pop(),r.push(t),n.push.apply(n,t.mounts);return r},syncfs:function(e,t){function r(e){return d(0<st.syncFSRequests),st.syncFSRequests--,t(e)}function n(e){return e?n.errored?void 0:(n.errored=!0,r(e)):void(++a>=o.length&&r(null))}"function"==typeof e&&(t=e,e=!1),st.syncFSRequests++,1<st.syncFSRequests&&console.log("warning: "+st.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var o=st.getMounts(st.root.mount),a=0;o.forEach(function(t){return t.type.syncfs?void t.type.syncfs(t,e,n):n(null)})},mount:function(e,t,r){var n,o="/"===r,a=!r;if(o&&st.root)throw new st.ErrnoError(tt.EBUSY);else if(!o&&!a){var s=st.lookupPath(r,{follow_mount:!1});if(r=s.path,n=s.node,st.isMountpoint(n))throw new st.ErrnoError(tt.EBUSY);if(!st.isDir(n.mode))throw new st.ErrnoError(tt.ENOTDIR)}var i={type:e,opts:t,mountpoint:r,mounts:[]},d=e.mount(i);return d.mount=i,i.root=d,o?st.root=d:n&&(n.mounted=i,n.mount&&n.mount.mounts.push(i)),d},unmount:function(e){var t=st.lookupPath(e,{follow_mount:!1});if(!st.isMountpoint(t.node))throw new st.ErrnoError(tt.EINVAL);var r=t.node,n=r.mounted,o=st.getMounts(n);Object.keys(st.nameTable).forEach(function(e){for(var t,r=st.nameTable[e];r;)t=r.name_next,-1!==o.indexOf(r.mount)&&st.destroyNode(r),r=t}),r.mounted=null;var a=r.mount.mounts.indexOf(n);d(-1!==a),r.mount.mounts.splice(a,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,r){var n=st.lookupPath(e,{parent:!0}),o=n.node,a=nt.basename(e);if(!a||"."===a||".."===a)throw new st.ErrnoError(tt.EINVAL);var s=st.mayCreate(o,a);if(s)throw new st.ErrnoError(s);if(!o.node_ops.mknod)throw new st.ErrnoError(tt.EPERM);return o.node_ops.mknod(o,a,t,r)},create:function(e,t){return t=void 0===t?438:t,t&=4095,t|=32768,st.mknod(e,t,0)},mkdir:function(e,t){return t=void 0===t?511:t,t&=1023,t|=16384,st.mknod(e,t,0)},mkdirTree:function(e,t){for(var r=e.split("/"),n="",o=0;o<r.length;++o)if(r[o]){n+="/"+r[o];try{st.mkdir(n,t)}catch(t){if(t.errno!=tt.EEXIST)throw t}}},mkdev:function(e,t,r){return"undefined"==typeof r&&(r=t,t=438),t|=8192,st.mknod(e,t,r)},symlink:function(e,t){if(!nt.resolve(e))throw new st.ErrnoError(tt.ENOENT);var r=st.lookupPath(t,{parent:!0}),n=r.node;if(!n)throw new st.ErrnoError(tt.ENOENT);var o=nt.basename(t),a=st.mayCreate(n,o);if(a)throw new st.ErrnoError(a);if(!n.node_ops.symlink)throw new st.ErrnoError(tt.EPERM);return n.node_ops.symlink(n,o,e)},rename:function(t,r){var e,n,o,a=nt.dirname(t),s=nt.dirname(r),i=nt.basename(t),d=nt.basename(r);try{e=st.lookupPath(t,{parent:!0}),n=e.node,e=st.lookupPath(r,{parent:!0}),o=e.node}catch(t){throw new st.ErrnoError(tt.EBUSY)}if(!n||!o)throw new st.ErrnoError(tt.ENOENT);if(n.mount!==o.mount)throw new st.ErrnoError(tt.EXDEV);var l=st.lookupNode(n,i),p=nt.relative(t,s);if("."!==p.charAt(0))throw new st.ErrnoError(tt.EINVAL);if(p=nt.relative(r,a),"."!==p.charAt(0))throw new st.ErrnoError(tt.ENOTEMPTY);var u;try{u=st.lookupNode(o,d)}catch(t){}if(l!==u){var m=st.isDir(l.mode),_=st.mayDelete(n,i,m);if(_)throw new st.ErrnoError(_);if(_=u?st.mayDelete(o,d,m):st.mayCreate(o,d),_)throw new st.ErrnoError(_);if(!n.node_ops.rename)throw new st.ErrnoError(tt.EPERM);if(st.isMountpoint(l)||u&&st.isMountpoint(u))throw new st.ErrnoError(tt.EBUSY);if(o!==n&&(_=st.nodePermissions(n,"w"),_))throw new st.ErrnoError(_);try{st.trackingDelegate.willMovePath&&st.trackingDelegate.willMovePath(t,r)}catch(n){console.log("FS.trackingDelegate['willMovePath']('"+t+"', '"+r+"') threw an exception: "+n.message)}st.hashRemoveNode(l);try{n.node_ops.rename(l,o,d)}catch(t){throw t}finally{st.hashAddNode(l)}try{st.trackingDelegate.onMovePath&&st.trackingDelegate.onMovePath(t,r)}catch(n){console.log("FS.trackingDelegate['onMovePath']('"+t+"', '"+r+"') threw an exception: "+n.message)}}},rmdir:function(t){var e=st.lookupPath(t,{parent:!0}),r=e.node,n=nt.basename(t),o=st.lookupNode(r,n),a=st.mayDelete(r,n,!0);if(a)throw new st.ErrnoError(a);if(!r.node_ops.rmdir)throw new st.ErrnoError(tt.EPERM);if(st.isMountpoint(o))throw new st.ErrnoError(tt.EBUSY);try{st.trackingDelegate.willDeletePath&&st.trackingDelegate.willDeletePath(t)}catch(r){console.log("FS.trackingDelegate['willDeletePath']('"+t+"') threw an exception: "+r.message)}r.node_ops.rmdir(r,n),st.destroyNode(o);try{st.trackingDelegate.onDeletePath&&st.trackingDelegate.onDeletePath(t)}catch(r){console.log("FS.trackingDelegate['onDeletePath']('"+t+"') threw an exception: "+r.message)}},readdir:function(e){var t=st.lookupPath(e,{follow:!0}),r=t.node;if(!r.node_ops.readdir)throw new st.ErrnoError(tt.ENOTDIR);return r.node_ops.readdir(r)},unlink:function(t){var e=st.lookupPath(t,{parent:!0}),r=e.node,n=nt.basename(t),o=st.lookupNode(r,n),a=st.mayDelete(r,n,!1);if(a)throw new st.ErrnoError(a);if(!r.node_ops.unlink)throw new st.ErrnoError(tt.EPERM);if(st.isMountpoint(o))throw new st.ErrnoError(tt.EBUSY);try{st.trackingDelegate.willDeletePath&&st.trackingDelegate.willDeletePath(t)}catch(r){console.log("FS.trackingDelegate['willDeletePath']('"+t+"') threw an exception: "+r.message)}r.node_ops.unlink(r,n),st.destroyNode(o);try{st.trackingDelegate.onDeletePath&&st.trackingDelegate.onDeletePath(t)}catch(r){console.log("FS.trackingDelegate['onDeletePath']('"+t+"') threw an exception: "+r.message)}},readlink:function(e){var t=st.lookupPath(e),r=t.node;if(!r)throw new st.ErrnoError(tt.ENOENT);if(!r.node_ops.readlink)throw new st.ErrnoError(tt.EINVAL);return nt.resolve(st.getPath(r.parent),r.node_ops.readlink(r))},stat:function(e,t){var r=st.lookupPath(e,{follow:!t}),n=r.node;if(!n)throw new st.ErrnoError(tt.ENOENT);if(!n.node_ops.getattr)throw new st.ErrnoError(tt.EPERM);return n.node_ops.getattr(n)},lstat:function(e){return st.stat(e,!0)},chmod:function(e,t,r){var n;if("string"==typeof e){var o=st.lookupPath(e,{follow:!r});n=o.node}else n=e;if(!n.node_ops.setattr)throw new st.ErrnoError(tt.EPERM);n.node_ops.setattr(n,{mode:4095&t|-4096&n.mode,timestamp:Date.now()})},lchmod:function(e,t){st.chmod(e,t,!0)},fchmod:function(e,t){var r=st.getStream(e);if(!r)throw new st.ErrnoError(tt.EBADF);st.chmod(r.node,t)},chown:function(e,t,r,n){var o;if("string"==typeof e){var a=st.lookupPath(e,{follow:!n});o=a.node}else o=e;if(!o.node_ops.setattr)throw new st.ErrnoError(tt.EPERM);o.node_ops.setattr(o,{timestamp:Date.now()})},lchown:function(e,t,r){st.chown(e,t,r,!0)},fchown:function(e,t,r){var n=st.getStream(e);if(!n)throw new st.ErrnoError(tt.EBADF);st.chown(n.node,t,r)},truncate:function(e,t){if(0>t)throw new st.ErrnoError(tt.EINVAL);var r;if("string"==typeof e){var n=st.lookupPath(e,{follow:!0});r=n.node}else r=e;if(!r.node_ops.setattr)throw new st.ErrnoError(tt.EPERM);if(st.isDir(r.mode))throw new st.ErrnoError(tt.EISDIR);if(!st.isFile(r.mode))throw new st.ErrnoError(tt.EINVAL);var o=st.nodePermissions(r,"w");if(o)throw new st.ErrnoError(o);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var r=st.getStream(e);if(!r)throw new st.ErrnoError(tt.EBADF);if(0==(2097155&r.flags))throw new st.ErrnoError(tt.EINVAL);st.truncate(r.node,t)},utime:function(e,t,r){var n=st.lookupPath(e,{follow:!0}),o=n.node;o.node_ops.setattr(o,{timestamp:q(t,r)})},open:function(t,e,r,n,o){if(""===t)throw new st.ErrnoError(tt.ENOENT);e="string"==typeof e?st.modeStringToFlags(e):e,r="undefined"==typeof r?438:r,r=64&e?32768|4095&r:0;var a;if("object"==typeof t)a=t;else{t=nt.normalize(t);try{var s=st.lookupPath(t,{follow:!(131072&e)});a=s.node}catch(t){}}var i=!1;if(64&e)if(!a)a=st.mknod(t,r,0),i=!0;else if(128&e)throw new st.ErrnoError(tt.EEXIST);if(!a)throw new st.ErrnoError(tt.ENOENT);if(st.isChrdev(a.mode)&&(e&=-513),65536&e&&!st.isDir(a.mode))throw new st.ErrnoError(tt.ENOTDIR);if(!i){var d=st.mayOpen(a,e);if(d)throw new st.ErrnoError(d)}512&e&&st.truncate(a,0),e&=-641;var l=st.createStream({node:a,path:st.getPath(a),flags:e,seekable:!0,position:0,stream_ops:a.stream_ops,ungotten:[],error:!1},n,o);l.stream_ops.open&&l.stream_ops.open(l),Q.logReadFiles&&!(1&e)&&(!st.readFiles&&(st.readFiles={}),!(t in st.readFiles)&&(st.readFiles[t]=1,Q.printErr("read file: "+t)));try{if(st.trackingDelegate.onOpenFile){var p=0;1!=(2097155&e)&&(p|=st.tracking.openFlags.READ),0!=(2097155&e)&&(p|=st.tracking.openFlags.WRITE),st.trackingDelegate.onOpenFile(t,p)}}catch(r){console.log("FS.trackingDelegate['onOpenFile']('"+t+"', flags) threw an exception: "+r.message)}return l},close:function(e){if(st.isClosed(e))throw new st.ErrnoError(tt.EBADF);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(t){throw t}finally{st.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,r){if(st.isClosed(e))throw new st.ErrnoError(tt.EBADF);if(!e.seekable||!e.stream_ops.llseek)throw new st.ErrnoError(tt.ESPIPE);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read:function(e,t,r,n,o){if(0>n||0>o)throw new st.ErrnoError(tt.EINVAL);if(st.isClosed(e))throw new st.ErrnoError(tt.EBADF);if(1==(2097155&e.flags))throw new st.ErrnoError(tt.EBADF);if(st.isDir(e.node.mode))throw new st.ErrnoError(tt.EISDIR);if(!e.stream_ops.read)throw new st.ErrnoError(tt.EINVAL);var a="undefined"!=typeof o;if(!a)o=e.position;else if(!e.seekable)throw new st.ErrnoError(tt.ESPIPE);var s=e.stream_ops.read(e,t,r,n,o);return a||(e.position+=s),s},write:function(e,t,r,n,o,a){if(0>n||0>o)throw new st.ErrnoError(tt.EINVAL);if(st.isClosed(e))throw new st.ErrnoError(tt.EBADF);if(0==(2097155&e.flags))throw new st.ErrnoError(tt.EBADF);if(st.isDir(e.node.mode))throw new st.ErrnoError(tt.EISDIR);if(!e.stream_ops.write)throw new st.ErrnoError(tt.EINVAL);1024&e.flags&&st.llseek(e,0,2);var s="undefined"!=typeof o;if(!s)o=e.position;else if(!e.seekable)throw new st.ErrnoError(tt.ESPIPE);var i=e.stream_ops.write(e,t,r,n,o,a);s||(e.position+=i);try{e.path&&st.trackingDelegate.onWriteToFile&&st.trackingDelegate.onWriteToFile(e.path)}catch(t){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+t.message)}return i},allocate:function(e,t,r){if(st.isClosed(e))throw new st.ErrnoError(tt.EBADF);if(0>t||0>=r)throw new st.ErrnoError(tt.EINVAL);if(0==(2097155&e.flags))throw new st.ErrnoError(tt.EBADF);if(!st.isFile(e.node.mode)&&!st.isDir(e.node.mode))throw new st.ErrnoError(tt.ENODEV);if(!e.stream_ops.allocate)throw new st.ErrnoError(tt.EOPNOTSUPP);e.stream_ops.allocate(e,t,r)},mmap:function(e,t,r,n,o,a,s){if(1==(2097155&e.flags))throw new st.ErrnoError(tt.EACCES);if(!e.stream_ops.mmap)throw new st.ErrnoError(tt.ENODEV);return e.stream_ops.mmap(e,t,r,n,o,a,s)},msync:function(e,t,r,n,o){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,o):0},munmap:function(){return 0},ioctl:function(e,t,r){if(!e.stream_ops.ioctl)throw new st.ErrnoError(tt.ENOTTY);return e.stream_ops.ioctl(e,t,r)},readFile:function(e,t){if(t=t||{},t.flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error("Invalid encoding type \""+t.encoding+"\"");var r,n=st.open(e,t.flags),o=st.stat(e),a=o.size,s=new Uint8Array(a);return st.read(n,s,0,a,0),"utf8"===t.encoding?r=p(s,0):"binary"===t.encoding&&(r=s),st.close(n),r},writeFile:function(e,t,r){r=r||{},r.flags=r.flags||"w";var n=st.open(e,r.flags,r.mode);if("string"==typeof t){var o=new Uint8Array(c(t)+1),a=m(t,o,0,o.length);st.write(n,o,0,a,void 0,r.canOwn)}else if(ArrayBuffer.isView(t))st.write(n,t,0,t.byteLength,void 0,r.canOwn);else throw new Error("Unsupported data type");st.close(n)},cwd:function(){return st.currentPath},chdir:function(e){var t=st.lookupPath(e,{follow:!0});if(null===t.node)throw new st.ErrnoError(tt.ENOENT);if(!st.isDir(t.node.mode))throw new st.ErrnoError(tt.ENOTDIR);var r=st.nodePermissions(t.node,"x");if(r)throw new st.ErrnoError(r);st.currentPath=t.path},createDefaultDirectories:function(){st.mkdir("/tmp"),st.mkdir("/home"),st.mkdir("/home/web_user")},createDefaultDevices:function(){st.mkdir("/dev"),st.registerDevice(st.makedev(1,3),{read:function(){return 0},write:function(e,t,r,n){return n}}),st.mkdev("/dev/null",st.makedev(1,3)),ot.register(st.makedev(5,0),ot.default_tty_ops),ot.register(st.makedev(6,0),ot.default_tty1_ops),st.mkdev("/dev/tty",st.makedev(5,0)),st.mkdev("/dev/tty1",st.makedev(6,0));var e;if("undefined"!=typeof crypto){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else if(ee);else e=function(){return 0|256*Math.random()};st.createDevice("/dev","random",e),st.createDevice("/dev","urandom",e),st.mkdir("/dev/shm"),st.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){st.mkdir("/proc"),st.mkdir("/proc/self"),st.mkdir("/proc/self/fd"),st.mount({mount:function(){var e=st.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var r=st.getStream(+t);if(!r)throw new st.ErrnoError(tt.EBADF);var n={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return r.path}}};return n.parent=n,n}},e}},{},"/proc/self/fd")},createStandardStreams:function(){Q.stdin?st.createDevice("/dev","stdin",Q.stdin):st.symlink("/dev/tty","/dev/stdin"),Q.stdout?st.createDevice("/dev","stdout",null,Q.stdout):st.symlink("/dev/tty","/dev/stdout"),Q.stderr?st.createDevice("/dev","stderr",null,Q.stderr):st.symlink("/dev/tty1","/dev/stderr");var e=st.open("/dev/stdin","r");d(0===e.fd,"invalid handle for stdin ("+e.fd+")");var t=st.open("/dev/stdout","w");d(1===t.fd,"invalid handle for stdout ("+t.fd+")");var r=st.open("/dev/stderr","w");d(2===r.fd,"invalid handle for stderr ("+r.fd+")")},ensureErrnoError:function(){st.ErrnoError||(st.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){for(var t in this.errno=e,tt)if(tt[t]===e){this.code=t;break}},this.setErrno(e),this.message=rt[e],this.stack&&Object.defineProperty(this,"stack",{value:new Error().stack,writable:!0})},st.ErrnoError.prototype=new Error,st.ErrnoError.prototype.constructor=st.ErrnoError,[tt.ENOENT].forEach(function(e){st.genericErrors[e]=new st.ErrnoError(e),st.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){st.ensureErrnoError(),st.nameTable=Array(4096),st.mount(at,{},"/"),st.createDefaultDirectories(),st.createDefaultDevices(),st.createSpecialDirectories(),st.filesystems={MEMFS:at}},init:function(e,t,r){d(!st.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),st.init.initialized=!0,st.ensureErrnoError(),Q.stdin=e||Q.stdin,Q.stdout=t||Q.stdout,Q.stderr=r||Q.stderr,st.createStandardStreams()},quit:function(){st.init.initialized=!1;var e=Q._fflush;e&&e(0);for(var t,r=0;r<st.streams.length;r++)(t=st.streams[r],!!t)&&st.close(t)},getMode:function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r},joinPath:function(e,t){var r=nt.join.apply(null,e);return t&&"/"==r[0]&&(r=r.substr(1)),r},absolutePath:function(e,t){return nt.resolve(t,e)},standardizePath:function(e){return nt.normalize(e)},findObject:function(e,t){var r=st.analyzePath(e,t);return r.exists?r.object:(x(r.error),null)},analyzePath:function(e,t){try{var r=st.lookupPath(e,{follow:!t});e=r.path}catch(t){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var r=st.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=r.path,n.parentObject=r.node,n.name=nt.basename(e),r=st.lookupPath(e,{follow:!t}),n.exists=!0,n.path=r.path,n.object=r.node,n.name=r.node.name,n.isRoot="/"===r.path}catch(t){n.error=t.errno}return n},createFolder:function(e,t,r,n){var o=nt.join2("string"==typeof e?e:st.getPath(e),t),a=st.getMode(r,n);return st.mkdir(o,a)},createPath:function(e,t){e="string"==typeof e?e:st.getPath(e);for(var r,n=t.split("/").reverse();n.length;)if(r=n.pop(),r){var o=nt.join2(e,r);try{st.mkdir(o)}catch(t){}e=o}return o},createFile:function(e,t,r,n,o){var a=nt.join2("string"==typeof e?e:st.getPath(e),t),s=st.getMode(n,o);return st.create(a,s)},createDataFile:function(e,t,r,n,o,a){var s=t?nt.join2("string"==typeof e?e:st.getPath(e),t):e,d=st.getMode(n,o),l=st.create(s,d);if(r){if("string"==typeof r){for(var p=Array(r.length),u=0,m=r.length;u<m;++u)p[u]=r.charCodeAt(u);r=p}st.chmod(l,146|d);var _=st.open(l,"w");st.write(_,r,0,r.length,0,a),st.close(_),st.chmod(l,d)}return l},createDevice:function(e,t,r,n){var o=nt.join2("string"==typeof e?e:st.getPath(e),t),a=st.getMode(!!r,!!n);st.createDevice.major||(st.createDevice.major=64);var s=st.makedev(st.createDevice.major++,0);return st.registerDevice(s,{open:function(e){e.seekable=!1},close:function(){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,t,n,o){for(var a=0,s=0;s<o;s++){var d;try{d=r()}catch(t){throw new st.ErrnoError(tt.EIO)}if(void 0===d&&0===a)throw new st.ErrnoError(tt.EAGAIN);if(null===d||void 0===d)break;a++,t[n+s]=d}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,r,o){for(var a=0;a<o;a++)try{n(t[r+a])}catch(t){throw new st.ErrnoError(tt.EIO)}return o&&(e.node.timestamp=Date.now()),a}}),st.mkdev(o,a,s)},createLink:function(e,t,r){var n=nt.join2("string"==typeof e?e:st.getPath(e),t);return st.symlink(r,n)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");else if(Q.read)try{e.contents=j(Q.read(e.url),!0),e.usedBytes=e.contents.length}catch(r){t=!1}else throw new Error("Cannot load without read() or XMLHttpRequest.");return t||x(tt.EIO),t},createLazyFile:function(e,t,r,o,a){function s(){this.lengthKnown=!1,this.chunks=[]}if(s.prototype.get=function(e){if(!(e>this.length-1||0>e)){var t=e%this.chunkSize,r=0|e/this.chunkSize;return this.getter(r)[t]}},s.prototype.setDataGetter=function(e){this.getter=e},s.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(200<=e.status&&300>e.status||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,o=+e.getResponseHeader("Content-length"),a=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,s=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,i=1048576;a||(i=o);var d=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>o-1)throw new Error("only "+o+" bytes available! programmer error!");var n=new XMLHttpRequest;if(n.open("GET",r,!1),o!==i&&n.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(n.responseType="arraybuffer"),n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.send(null),!(200<=n.status&&300>n.status||304===n.status))throw new Error("Couldn't load "+r+". Status: "+n.status);return void 0===n.response?j(n.responseText||"",!0):new Uint8Array(n.response||[])},l=this;l.setDataGetter(function(e){var t=e*i,r=(e+1)*i-1;if(r=n(r,o-1),"undefined"==typeof l.chunks[e]&&(l.chunks[e]=d(t,r)),"undefined"==typeof l.chunks[e])throw new Error("doXHR failed!");return l.chunks[e]}),(s||!o)&&(i=o=1,o=this.getter(0).length,i=o,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=o,this._chunkSize=i,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!Z)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var i=new s;Object.defineProperties(i,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var l={isDevice:!1,contents:i}}else var l={isDevice:!1,url:r};var p=st.createFile(e,t,l,o,a);l.contents?p.contents=l.contents:l.url&&(p.contents=null,p.url=l.url),Object.defineProperties(p,{usedBytes:{get:function(){return this.contents.length}}});var u={},m=Object.keys(p.stream_ops);return m.forEach(function(e){var t=p.stream_ops[e];u[e]=function(){if(!st.forceLoadFile(p))throw new st.ErrnoError(tt.EIO);return t.apply(null,arguments)}}),u.read=function(e,t,r,o,a){if(!st.forceLoadFile(p))throw new st.ErrnoError(tt.EIO);var s=e.node.contents;if(a>=s.length)return 0;var l=n(s.length-a,o);if(d(0<=l),s.slice)for(var u=0;u<l;u++)t[r+u]=s[a+u];else for(var u=0;u<l;u++)t[r+u]=s.get(a+u);return l},p.stream_ops=u,p},createPreloadedFile:function(e,t,r,n,o,a,s,i,d,l){function p(r){function p(r){l&&l(),i||st.createDataFile(e,t,r,n,o,d),a&&a(),I(m)}var _=!1;Q.preloadPlugins.forEach(function(e){_||e.canHandle(u)&&(e.handle(r,u,p,function(){s&&s(),I(m)}),_=!0)}),_||p(r)}Browser.init();var u=t?nt.resolve(nt.join2(e,t)):e,m=B("cp "+u);L(m),"string"==typeof r?Browser.asyncLoad(r,function(e){p(e)},s):p(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=st.indexedDB();try{var o=n.open(st.DB_NAME(),st.DB_VERSION)}catch(t){return r(t)}o.onupgradeneeded=function(){console.log("creating db");var e=o.result;e.createObjectStore(st.DB_STORE_NAME)},o.onsuccess=function(){function n(){0==l?t():r()}var a=o.result,s=a.transaction([st.DB_STORE_NAME],"readwrite"),i=s.objectStore(st.DB_STORE_NAME),d=0,l=0,p=e.length;e.forEach(function(e){var t=i.put(st.analyzePath(e).object.contents,e);t.onsuccess=function(){d++,d+l==p&&n()},t.onerror=function(){l++,d+l==p&&n()}}),s.onerror=r},o.onerror=r},loadFilesFromDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=st.indexedDB();try{var o=n.open(st.DB_NAME(),st.DB_VERSION)}catch(t){return r(t)}o.onupgradeneeded=r,o.onsuccess=function(){function n(){0==l?t():r()}var a=o.result;try{var s=a.transaction([st.DB_STORE_NAME],"readonly")}catch(t){return void r(t)}var i=s.objectStore(st.DB_STORE_NAME),d=0,l=0,p=e.length;e.forEach(function(e){var t=i.get(e);t.onsuccess=function(){st.analyzePath(e).exists&&st.unlink(e),st.createDataFile(nt.dirname(e),nt.basename(e),t.result,!0,!0,!0),d++,d+l==p&&n()},t.onerror=function(){l++,d+l==p&&n()}}),s.onerror=r},o.onerror=r}},it={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if("/"!==t[0]){var r;if(-100===e)r=st.cwd();else{var n=st.getStream(e);if(!n)throw new st.ErrnoError(tt.EBADF);r=n.path}t=nt.join2(r,t)}return t},doStat:function(e,t,r){try{var n=e(t)}catch(r){if(r&&r.node&&nt.normalize(t)!==nt.normalize(st.getPath(r.node)))return-tt.ENOTDIR;throw r}return ie[r>>2]=n.dev,ie[r+4>>2]=0,ie[r+8>>2]=n.ino,ie[r+12>>2]=n.mode,ie[r+16>>2]=n.nlink,ie[r+20>>2]=n.uid,ie[r+24>>2]=n.gid,ie[r+28>>2]=n.rdev,ie[r+32>>2]=0,ie[r+36>>2]=n.size,ie[r+40>>2]=4096,ie[r+44>>2]=n.blocks,ie[r+48>>2]=0|n.atime.getTime()/1e3,ie[r+52>>2]=0,ie[r+56>>2]=0|n.mtime.getTime()/1e3,ie[r+60>>2]=0,ie[r+64>>2]=0|n.ctime.getTime()/1e3,ie[r+68>>2]=0,ie[r+72>>2]=n.ino,0},doMsync:function(e,t,r,n){var o=new Uint8Array(oe.subarray(e,e+r));st.msync(t,o,0,r,n)},doMkdir:function(e,t){return e=nt.normalize(e),"/"===e[e.length-1]&&(e=e.substr(0,e.length-1)),st.mkdir(e,t,0),0},doMknod:function(e,t,r){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-tt.EINVAL;}return st.mknod(e,t,r),0},doReadlink:function(e,t,r){if(0>=r)return-tt.EINVAL;var o=st.readlink(e),a=n(r,c(o)),s=ne[t+a];return _(o,t,r+1),ne[t+a]=s,a},doAccess:function(e,t){if(-8&t)return-tt.EINVAL;var r,n=st.lookupPath(e,{follow:!0});r=n.node;var o="";return 4&t&&(o+="r"),2&t&&(o+="w"),1&t&&(o+="x"),o&&st.nodePermissions(r,o)?-tt.EACCES:0},doDup:function(e,t,r){var n=st.getStream(r);return n&&st.close(n),st.open(e,t,0,r,r).fd},doReadv:function(e,t,r,n){for(var o=0,a=0;a<r;a++){var s=ie[t+8*a>>2],d=ie[t+(8*a+4)>>2],l=st.read(e,ne,s,d,n);if(0>l)return-1;if(o+=l,l<d)break}return o},doWritev:function(e,t,r,n){for(var o=0,a=0;a<r;a++){var s=ie[t+8*a>>2],d=ie[t+(8*a+4)>>2],l=st.write(e,ne,s,d,n);if(0>l)return-1;o+=l}return o},varargs:0,get:function(){it.varargs+=4;var e=ie[it.varargs-4>>2];return e},getStr:function(){var e=l(it.get());return e},getStreamFromFD:function(){var e=st.getStream(it.get());if(!e)throw new st.ErrnoError(tt.EBADF);return e},getSocketFromFD:function(){var e=SOCKFS.getSocket(it.get());if(!e)throw new st.ErrnoError(tt.EBADF);return e},getSocketAddress:function(e){var t=it.get(),r=it.get();if(e&&0===t)return null;var n=__read_sockaddr(t,r);if(n.errno)throw new st.ErrnoError(n.errno);return n.addr=DNS.lookup_addr(n.addr)||n.addr,n},get64:function(){var e=it.get(),t=it.get();return 0<=e?d(0===t):d(-1===t),e},getZero:function(){d(0===it.get())}};st.staticInit(),Ne.unshift(function(){Q.noFSInit||st.init.initialized||st.init()}),Oe.push(function(){st.ignorePermissions=!1}),Ae.push(function(){st.quit()}),Ne.unshift(function(){ot.init()}),Ae.push(function(){ot.shutdown()}),he=r(4),ce=ge=i(me),fe=ce+ve,Ee=i(fe),ie[he>>2]=Ee,_e=!0,Q.wasmTableSize=22,Q.wasmMaxTableSize=22,Q.asmGlobalArg={},Q.asmLibraryArg={abort:Y,enlargeMemory:C,getTotalMemory:D,abortOnCannotGrowMemory:k,___lock:function(){},___setErrNo:x,___syscall140:M,___syscall145:function(e,t){it.varargs=t;try{var r=it.getStreamFromFD(),n=it.get(),o=it.get();return it.doReadv(r,n,o)}catch(t){return"undefined"!=typeof st&&t instanceof st.ErrnoError||Y(t),-t.errno}},___syscall146:function(e,t){it.varargs=t;try{var r=it.getStreamFromFD(),n=it.get(),o=it.get();return it.doWritev(r,n,o)}catch(t){return"undefined"!=typeof st&&t instanceof st.ErrnoError||Y(t),-t.errno}},___syscall221:U,___syscall5:function(e,t){it.varargs=t;try{var r=it.getStr(),n=it.get(),o=it.get(),a=st.open(r,n,o);return a.fd}catch(t){return"undefined"!=typeof st&&t instanceof st.ErrnoError||Y(t),-t.errno}},___syscall54:z,___syscall6:function(e,t){it.varargs=t;try{var r=it.getStreamFromFD();return st.close(r),0}catch(t){return"undefined"!=typeof st&&t instanceof st.ErrnoError||Y(t),-t.errno}},___unlock:function(){},_emscripten_memcpy_big:H,DYNAMICTOP_PTR:he,STACKTOP:ge};var dt=Q.asm(Q.asmGlobalArg,Q.asmLibraryArg,re);Q.asm=dt;var lt=Q.___errno_location=function(){return Q.asm.___errno_location.apply(null,arguments)},pt=Q._emscripten_replace_memory=function(){return Q.asm._emscripten_replace_memory.apply(null,arguments)},ut=Q._free=function(){return Q.asm._free.apply(null,arguments)},mt=Q._malloc=function(){return Q.asm._malloc.apply(null,arguments)},_t=Q._mid_alloc_options=function(){return Q.asm._mid_alloc_options.apply(null,arguments)},ct=Q._mid_exit=function(){return Q.asm._mid_exit.apply(null,arguments)},gt=Q._mid_get_load_request=function(){return Q.asm._mid_get_load_request.apply(null,arguments)},ft=Q._mid_get_load_request_count=function(){return Q.asm._mid_get_load_request_count.apply(null,arguments)},Et=Q._mid_init=function(){return Q.asm._mid_init.apply(null,arguments)},ht=Q._mid_istream_close=function(){return Q.asm._mid_istream_close.apply(null,arguments)},yt=Q._mid_istream_open_mem=function(){return Q.asm._mid_istream_open_mem.apply(null,arguments)},bt=Q._mid_song_free=function(){return Q.asm._mid_song_free.apply(null,arguments)},Tt=Q._mid_song_get_time=function(){return Q.asm._mid_song_get_time.apply(null,arguments)},kt=Q._mid_song_get_total_time=function(){return Q.asm._mid_song_get_total_time.apply(null,arguments)},Ct=Q._mid_song_load=function(){return Q.asm._mid_song_load.apply(null,arguments)},Dt=Q._mid_song_read_wave=function(){return Q.asm._mid_song_read_wave.apply(null,arguments)},vt=Q._mid_song_seek=function(){return Q.asm._mid_song_seek.apply(null,arguments)},St=Q._mid_song_start=function(){return Q.asm._mid_song_start.apply(null,arguments)};Q.asm=dt,Q.Pointer_stringify=l,Q.FS=st,Q.then=function(e){if(Q.calledRun)e(Q);else{var t=Q.onRuntimeInitialized;Q.onRuntimeInitialized=function(){t&&t(),e(Q)}}return Q},V.prototype=new Error,V.prototype.constructor=V;var wt;if(et=function e(){Q.calledRun||G(),Q.calledRun||(et=e)},Q.run=G,Q.exit=W,Q.abort=Y,Q.preInit)for("function"==typeof Q.preInit&&(Q.preInit=[Q.preInit]);0<Q.preInit.length;)Q.preInit.pop()();return Q.noExitRuntime=!0,G(),t};"object"==typeof r&&"object"==typeof t?t.exports=i:"function"==typeof define&&define.amd?define([],function(){return i}):"object"==typeof r&&(r.LibTimidity=i)}).call(this,e("_process"),e("buffer").Buffer)},{_process:11,buffer:5}],3:[function(e){window.Timidity=e("./index.js")},{"./index.js":1}],4:[function(e,t,r){'use strict';function n(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function o(e,t,r){return 3*(t+r)/4-r}function a(e){for(var t,r=n(e),a=r[0],s=r[1],d=new m(o(e,a,s)),l=0,p=0<s?a-4:a,_=0;_<p;_+=4)t=u[e.charCodeAt(_)]<<18|u[e.charCodeAt(_+1)]<<12|u[e.charCodeAt(_+2)]<<6|u[e.charCodeAt(_+3)],d[l++]=255&t>>16,d[l++]=255&t>>8,d[l++]=255&t;return 2===s&&(t=u[e.charCodeAt(_)]<<2|u[e.charCodeAt(_+1)]>>4,d[l++]=255&t),1===s&&(t=u[e.charCodeAt(_)]<<10|u[e.charCodeAt(_+1)]<<4|u[e.charCodeAt(_+2)]>>2,d[l++]=255&t>>8,d[l++]=255&t),d}function s(e){return p[63&e>>18]+p[63&e>>12]+p[63&e>>6]+p[63&e]}function d(e,t,r){for(var n,o=[],a=t;a<r;a+=3)n=(16711680&e[a]<<16)+(65280&e[a+1]<<8)+(255&e[a+2]),o.push(s(n));return o.join("")}function l(e){for(var t,r=e.length,n=r%3,o=[],a=16383,s=0,l=r-n;s<l;s+=a)o.push(d(e,s,s+a>l?l:s+a));return 1===n?(t=e[r-1],o.push(p[t>>2]+p[63&t<<4]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],o.push(p[t>>10]+p[63&t>>4]+p[63&t<<2]+"=")),o.join("")}r.byteLength=function(e){var t=n(e),r=t[0],o=t[1];return 3*(r+o)/4-o},r.toByteArray=a,r.fromByteArray=l;for(var p=[],u=[],m="undefined"==typeof Uint8Array?Array:Uint8Array,_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,g=_.length;c<g;++c)p[c]=_[c],u[_.charCodeAt(c)]=c;u[45]=62,u[95]=63},{}],5:[function(e,t,r){var n=Math.pow,o=Math.min,a=String.fromCharCode;(function(t){'use strict';function s(e){if(2147483647<e)throw new RangeError("The value \""+e+"\" is invalid for option \"size\"");var r=new Uint8Array(e);return r.__proto__=t.prototype,r}function t(e,r,n){if("number"==typeof e){if("string"==typeof r)throw new TypeError("The \"string\" argument must be of type string. Received type number");return p(e)}return i(e,r,n)}function i(e,r,n){if("string"==typeof e)return u(e,r);if(ArrayBuffer.isView(e))return m(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(q(e,ArrayBuffer)||e&&q(e.buffer,ArrayBuffer))return _(e,r,n);if("number"==typeof e)throw new TypeError("The \"value\" argument must not be of type number. Received type number");var o=e.valueOf&&e.valueOf();if(null!=o&&o!==e)return t.from(o,r,n);var a=c(e);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive]("string"),r,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!=typeof e)throw new TypeError("\"size\" argument must be of type number");else if(0>e)throw new RangeError("The value \""+e+"\" is invalid for option \"size\"")}function l(e,t,r){return d(e),0>=e?s(e):void 0===t?s(e):"string"==typeof r?s(e).fill(t,r):s(e).fill(t)}function p(e){return d(e),s(0>e?0:0|g(e))}function u(e,r){if(("string"!=typeof r||""===r)&&(r="utf8"),!t.isEncoding(r))throw new TypeError("Unknown encoding: "+r);var n=0|E(e,r),o=s(n),a=o.write(e,r);return a!==n&&(o=o.slice(0,a)),o}function m(e){for(var t=0>e.length?0:0|g(e.length),r=s(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function _(e,r,n){if(0>r||e.byteLength<r)throw new RangeError("\"offset\" is outside of buffer bounds");if(e.byteLength<r+(n||0))throw new RangeError("\"length\" is outside of buffer bounds");var o;return o=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),o.__proto__=t.prototype,o}function c(e){if(t.isBuffer(e)){var r=0|g(e.length),n=s(r);return 0===n.length?n:(e.copy(n,0,0,r),n)}return void 0===e.length?"Buffer"===e.type&&Array.isArray(e.data)?m(e.data):void 0:"number"!=typeof e.length||X(e.length)?s(0):m(e)}function g(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647 .toString(16)+" bytes");return 0|e}function f(e){return+e!=e&&(e=0),t.alloc(+e)}function E(e,r){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||q(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError("The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. Received type "+typeof e);var n=e.length,o=2<arguments.length&&!0===arguments[2];if(!o&&0===n)return 0;for(var a=!1;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(a)return o?-1:j(e).length;r=(""+r).toLowerCase(),a=!0;}}function h(e,t,r){var n=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),0>=r)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return B(this,t,r);case"utf8":case"utf-8":return O(this,t,r);case"ascii":return F(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return N(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0;}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,r,n,o,a){if(0===e.length)return-1;if("string"==typeof n?(o=n,n=0):2147483647<n?n=2147483647:-2147483648>n&&(n=-2147483648),n=+n,X(n)&&(n=a?0:e.length-1),0>n&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(0>n)if(a)n=0;else return-1;if("string"==typeof r&&(r=t.from(r,o)),t.isBuffer(r))return 0===r.length?-1:T(e,r,n,o,a);if("number"==typeof r)return r&=255,"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,r,n):Uint8Array.prototype.lastIndexOf.call(e,r,n):T(e,[r],n,o,a);throw new TypeError("val must be string, number or Buffer")}function T(e,t,r,n,o){function a(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,d=e.length,l=t.length;if(void 0!==n&&(n=(n+"").toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(2>e.length||2>t.length)return-1;s=2,d/=2,l/=2,r/=2}var p;if(o){var u=-1;for(p=r;p<d;p++)if(a(e,p)!==a(t,-1===u?0:p-u))-1!==u&&(p-=p-u),u=-1;else if(-1===u&&(u=p),p-u+1===l)return u*s}else for(r+l>d&&(r=d-l),p=r;0<=p;p--){for(var m=!0,_=0;_<l;_++)if(a(e,p+_)!==a(t,_)){m=!1;break}if(m)return p}return-1}function k(e,t,r,n){r=+r||0;var o=e.length-r;n?(n=+n,n>o&&(n=o)):n=o;var a=t.length;n>a/2&&(n=a/2);for(var s,d=0;d<n;++d){if(s=parseInt(t.substr(2*d,2),16),X(s))return d;e[r+d]=s}return d}function C(e,t,r,n){return Y(j(t,e.length-r),e,r,n)}function D(e,t,r,n){return Y(V(t),e,r,n)}function v(e,t,r,n){return D(e,t,r,n)}function S(e,t,r,n){return Y(W(t),e,r,n)}function w(e,t,r,n){return Y(G(t,e.length-r),e,r,n)}function N(e,t,r){return 0===t&&r===e.length?K.fromByteArray(e):K.fromByteArray(e.slice(t,r))}function O(e,t,r){r=o(e.length,r);for(var n=[],a=t;a<r;){var s=e[a],d=null,l=239<s?4:223<s?3:191<s?2:1;if(a+l<=r){var p,u,m,_;1===l?128>s&&(d=s):2===l?(p=e[a+1],128==(192&p)&&(_=(31&s)<<6|63&p,127<_&&(d=_))):3===l?(p=e[a+1],u=e[a+2],128==(192&p)&&128==(192&u)&&(_=(15&s)<<12|(63&p)<<6|63&u,2047<_&&(55296>_||57343<_)&&(d=_))):4===l?(p=e[a+1],u=e[a+2],m=e[a+3],128==(192&p)&&128==(192&u)&&128==(192&m)&&(_=(15&s)<<18|(63&p)<<12|(63&u)<<6|63&m,65535<_&&1114112>_&&(d=_))):void 0}null===d?(d=65533,l=1):65535<d&&(d-=65536,n.push(55296|1023&d>>>10),d=56320|1023&d),n.push(d),a+=l}return A(n)}function A(e){var t=e.length;if(t<=4096)return a.apply(String,e);for(var r="",n=0;n<t;)r+=a.apply(String,e.slice(n,n+=4096));return r}function F(e,t,r){var n="";r=o(e.length,r);for(var s=t;s<r;++s)n+=a(127&e[s]);return n}function P(e,t,r){var n="";r=o(e.length,r);for(var s=t;s<r;++s)n+=a(e[s]);return n}function B(e,t,r){var n=e.length;(!t||0>t)&&(t=0),(!r||0>r||r>n)&&(r=n);for(var o="",a=t;a<r;++a)o+=H(e[a]);return o}function L(e,t,r){for(var n=e.slice(t,r),o="",s=0;s<n.length;s+=2)o+=a(n[s]+256*n[s+1]);return o}function I(e,t,r){if(0!=e%1||0>e)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function R(e,r,n,o,a,s){if(!t.isBuffer(e))throw new TypeError("\"buffer\" argument must be a Buffer instance");if(r>a||r<s)throw new RangeError("\"value\" argument is out of bounds");if(n+o>e.length)throw new RangeError("Index out of range")}function x(e,t,r,n){if(r+n>e.length)throw new RangeError("Index out of range");if(0>r)throw new RangeError("Index out of range")}function M(e,t,r,n,o){return t=+t,r>>>=0,o||x(e,t,r,4,34028234663852886e22,-34028234663852886e22),Q.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,o){return t=+t,r>>>=0,o||x(e,t,r,8,17976931348623157e292,-17976931348623157e292),Q.write(e,t,r,n,52,8),r+8}function z(e){if(e=e.split("=")[0],e=e.trim().replace(J,""),2>e.length)return"";for(;0!=e.length%4;)e+="=";return e}function H(e){return 16>e?"0"+e.toString(16):e.toString(16)}function j(e,t){t=t||1/0;for(var r,n=e.length,o=null,a=[],s=0;s<n;++s){if(r=e.charCodeAt(s),55295<r&&57344>r){if(!o){if(56319<r){-1<(t-=3)&&a.push(239,191,189);continue}else if(s+1===n){-1<(t-=3)&&a.push(239,191,189);continue}o=r;continue}if(56320>r){-1<(t-=3)&&a.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&-1<(t-=3)&&a.push(239,191,189);if(o=null,128>r){if(0>(t-=1))break;a.push(r)}else if(2048>r){if(0>(t-=2))break;a.push(192|r>>6,128|63&r)}else if(65536>r){if(0>(t-=3))break;a.push(224|r>>12,128|63&r>>6,128|63&r)}else if(1114112>r){if(0>(t-=4))break;a.push(240|r>>18,128|63&r>>12,128|63&r>>6,128|63&r)}else throw new Error("Invalid code point")}return a}function V(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function G(e,t){for(var r,n,o,a=[],s=0;s<e.length&&!(0>(t-=2));++s)r=e.charCodeAt(s),n=r>>8,o=r%256,a.push(o),a.push(n);return a}function W(e){return K.toByteArray(z(e))}function Y(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function X(e){return e!==e}var K=e("base64-js"),Q=e("ieee754");r.Buffer=t,r.SlowBuffer=f,r.INSPECT_MAX_BYTES=50;r.kMaxLength=2147483647,t.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}(),t.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){return t.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){return t.isBuffer(this)?this.byteOffset:void 0}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=function(e,t,r){return i(e,t,r)},t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,t.alloc=function(e,t,r){return l(e,t,r)},t.allocUnsafe=function(e){return p(e)},t.allocUnsafeSlow=function(e){return p(e)},t.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==t.prototype},t.compare=function(e,r){if(q(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),q(r,Uint8Array)&&(r=t.from(r,r.offset,r.byteLength)),!t.isBuffer(e)||!t.isBuffer(r))throw new TypeError("The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array");if(e===r)return 0;for(var n=e.length,s=r.length,d=0,l=o(n,s);d<l;++d)if(e[d]!==r[d]){n=e[d],s=r[d];break}return n<s?-1:s<n?1:0},t.isEncoding=function(e){switch((e+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1;}},t.concat=function(e,r){if(!Array.isArray(e))throw new TypeError("\"list\" argument must be an Array of Buffers");if(0===e.length)return t.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var o=t.allocUnsafe(r),a=0;for(n=0;n<e.length;++n){var s=e[n];if(q(s,Uint8Array)&&(s=t.from(s)),!t.isBuffer(s))throw new TypeError("\"list\" argument must be an Array of Buffers");s.copy(o,a),a+=s.length}return o},t.byteLength=E,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var e=this.length;if(0!=e%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},t.prototype.swap32=function(){var e=this.length;if(0!=e%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},t.prototype.swap64=function(){var e=this.length;if(0!=e%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},t.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):h.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},t.prototype.compare=function(e,r,n,a,s){if(q(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw new TypeError("The \"target\" argument must be one of type Buffer or Uint8Array. Received type "+typeof e);if(void 0===r&&(r=0),void 0===n&&(n=e?e.length:0),void 0===a&&(a=0),void 0===s&&(s=this.length),0>r||n>e.length||0>a||s>this.length)throw new RangeError("out of range index");if(a>=s&&r>=n)return 0;if(a>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,a>>>=0,s>>>=0,this===e)return 0;for(var d=s-a,l=n-r,p=o(d,l),u=this.slice(a,s),m=e.slice(r,n),_=0;_<p;++_)if(u[_]!==m[_]){d=u[_],l=m[_];break}return d<l?-1:l<d?1:0},t.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},t.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},t.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},t.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-t;if((void 0===r||r>o)&&(r=o),0<e.length&&(0>r||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return k(this,e,t,r);case"utf8":case"utf-8":return C(this,e,t,r);case"ascii":return D(this,e,t,r);case"latin1":case"binary":return v(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0;}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};t.prototype.slice=function(e,r){var n=this.length;e=~~e,r=void 0===r?n:~~r,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>r?(r+=n,0>r&&(r=0)):r>n&&(r=n),r<e&&(r=e);var o=this.subarray(e,r);return o.__proto__=t.prototype,o},t.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e],o=1,a=0;++a<t&&(o*=256);)n+=this[e+a]*o;return n},t.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e+--t],o=1;0<t&&(o*=256);)n+=this[e+--t]*o;return n},t.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},t.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},t.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},t.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},t.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},t.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var o=this[e],a=1,s=0;++s<t&&(a*=256);)o+=this[e+s]*a;return a*=128,o>=a&&(o-=n(2,8*t)),o},t.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var o=t,a=1,s=this[e+--o];0<o&&(a*=256);)s+=this[e+--o]*a;return a*=128,s>=a&&(s-=n(2,8*t)),s},t.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},t.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},t.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},t.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),Q.read(this,e,!0,23,4)},t.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),Q.read(this,e,!1,23,4)},t.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),Q.read(this,e,!0,52,8)},t.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),Q.read(this,e,!1,52,8)},t.prototype.writeUIntLE=function(e,t,r,o){if(e=+e,t>>>=0,r>>>=0,!o){var a=n(2,8*r)-1;R(this,e,t,r,a,0)}var s=1,d=0;for(this[t]=255&e;++d<r&&(s*=256);)this[t+d]=255&e/s;return t+r},t.prototype.writeUIntBE=function(e,t,r,o){if(e=+e,t>>>=0,r>>>=0,!o){var a=n(2,8*r)-1;R(this,e,t,r,a,0)}var s=r-1,d=1;for(this[t+s]=255&e;0<=--s&&(d*=256);)this[t+s]=255&e/d;return t+r},t.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,1,255,0),this[t]=255&e,t+1},t.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},t.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeIntLE=function(e,t,r,o){if(e=+e,t>>>=0,!o){var a=n(2,8*r-1);R(this,e,t,r,a-1,-a)}var s=0,d=1,l=0;for(this[t]=255&e;++s<r&&(d*=256);)0>e&&0===l&&0!==this[t+s-1]&&(l=1),this[t+s]=255&(e/d>>0)-l;return t+r},t.prototype.writeIntBE=function(e,t,r,o){if(e=+e,t>>>=0,!o){var a=n(2,8*r-1);R(this,e,t,r,a-1,-a)}var s=r-1,d=1,l=0;for(this[t+s]=255&e;0<=--s&&(d*=256);)0>e&&0===l&&0!==this[t+s+1]&&(l=1),this[t+s]=255&(e/d>>0)-l;return t+r},t.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,1,127,-128),0>e&&(e=255+e+1),this[t]=255&e,t+1},t.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},t.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||R(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeFloatLE=function(e,t,r){return M(this,e,t,!0,r)},t.prototype.writeFloatBE=function(e,t,r){return M(this,e,t,!1,r)},t.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},t.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},t.prototype.copy=function(e,r,n,o){if(!t.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),o||0===o||(o=this.length),r>=e.length&&(r=e.length),r||(r=0),0<o&&o<n&&(o=n),o===n)return 0;if(0===e.length||0===this.length)return 0;if(0>r)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("Index out of range");if(0>o)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-r<o-n&&(o=e.length-r+n);var a=o-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(r,n,o);else if(this===e&&n<r&&r<o)for(var s=a-1;0<=s;--s)e[s+r]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,o),r);return a},t.prototype.fill=function(e,r,n,o){if("string"==typeof e){if("string"==typeof r?(o=r,r=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!t.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(1===e.length){var a=e.charCodeAt(0);("utf8"===o&&128>a||"latin1"===o)&&(e=a)}}else"number"==typeof e&&(e&=255);if(0>r||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r>>>=0,n=n===void 0?this.length:n>>>0,e||(e=0);var s;if("number"==typeof e)for(s=r;s<n;++s)this[s]=e;else{var d=t.isBuffer(e)?e:t.from(e,o),l=d.length;if(0===l)throw new TypeError("The value \""+e+"\" is invalid for argument \"value\"");for(s=0;s<n-r;++s)this[s+r]=d[s%l]}return this};var J=/[^+/0-9A-Za-z-_]/g}).call(this,e("buffer").Buffer)},{"base64-js":4,buffer:5,ieee754:9}],6:[function(e,t,r){(function(n){"use strict";function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(){var e;return"object"===("undefined"==typeof console?"undefined":o(console))&&console.log&&(e=console).log.apply(e,arguments)}function s(){var e;try{e=r.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof n&&"env"in n&&(e=n.env.DEBUG),e}r.log=a,r.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!!this.useColors){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var n=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"===e||(n++,"%c"===e&&(o=n))}),e.splice(o,0,r)}},r.save=function(e){try{e?r.storage.setItem("debug",e):r.storage.removeItem("debug")}catch(e){}},r.load=s,r.useColors=function(){return!!("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},r.storage=function(){try{return localStorage}catch(e){}}(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.exports=e("./common")(r);var i=t.exports.formatters;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,e("_process"))},{"./common":7,_process:11}],7:[function(e,t){"use strict";t.exports=function(t){function r(e){for(var t=0,r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){function t(){if(t.enabled){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];var a=t,i=+new Date,d=i-(s||i);a.diff=d,a.prev=s,a.curr=i,s=i,r[0]=n.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");var l=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,function(e,t){if("%%"===e)return e;l++;var o=n.formatters[t];if("function"==typeof o){var s=r[l];e=o.call(a,s),r.splice(l,1),l--}return e}),n.formatArgs.call(a,r);var p=a.log||n.log;p.apply(a,r)}}var s;return t.namespace=e,t.enabled=n.enabled(e),t.useColors=n.useColors(),t.color=r(e),t.destroy=o,t.extend=a,"function"==typeof n.init&&n.init(t),n.instances.push(t),t}function o(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function a(e,t){return n(this.namespace+("undefined"==typeof t?":":t)+e)}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){n.save(e),n.names=[],n.skips=[];var t,r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&(e=r[t].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var a=n.instances[t];a.enabled=n.enabled(a.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=e("ms"),Object.keys(t).forEach(function(e){n[e]=t[e]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=r,n.enable(n.load()),n}},{ms:10}],8:[function(e,t){function r(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=h(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}function n(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function a(e,t,r){if(t)e.call(r);else for(var n=e.length,o=f(e,n),a=0;a<n;++a)o[a].call(r)}function s(e,t,r,n){if(t)e.call(r,n);else for(var o=e.length,a=f(e,o),s=0;s<o;++s)a[s].call(r,n)}function d(e,t,r,n,o){if(t)e.call(r,n,o);else for(var a=e.length,s=f(e,a),d=0;d<a;++d)s[d].call(r,n,o)}function l(e,t,r,n,o,a){if(t)e.call(r,n,o,a);else for(var s=e.length,d=f(e,s),l=0;l<s;++l)d[l].call(r,n,o,a)}function p(e,t,r,n){if(t)e.apply(r,n);else for(var o=e.length,a=f(e,o),s=0;s<o;++s)a[s].apply(r,n)}function i(e,t,r,o){var a,s,i;if("function"!=typeof r)throw new TypeError("\"listener\" argument must be a function");if(s=e._events,s?(s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),i=s[t]):(s=e._events=h(null),e._eventsCount=0),!i)i=s[t]=r,++e._eventsCount;else if("function"==typeof i?i=s[t]=o?[r,i]:[i,r]:o?i.unshift(r):i.push(r),!i.warned&&(a=n(e),a&&0<a&&i.length>a)){i.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+i.length+" \""+(t+"\" listeners added. Use emitter.setMaxListeners() to increase limit."));d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=i.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",d.name,d.message)}return e}function u(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e);}}function m(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=b.call(u,n);return o.listener=r,n.wrapFn=o,o}function _(e,t,r){var n=e._events;if(!n)return[];var o=n[t];return o?"function"==typeof o?r?[o.listener||o]:[o]:r?E(o):f(o,o.length):[]}function c(e){var t=this._events;if(t){var r=t[e];if("function"==typeof r)return 1;if(r)return r.length}return 0}function g(e,t){for(var r=t,o=r+1,a=e.length;o<a;r+=1,o+=1)e[r]=e[o];e.pop()}function f(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function E(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}var h=Object.create||function(e){var t=function(){};return t.prototype=e,new t},y=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return r},b=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0;var T,k=10;try{var C={};Object.defineProperty&&Object.defineProperty(C,"x",{value:0}),T=0===C.x}catch(e){T=!1}T?Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return k},set:function(e){if("number"!=typeof e||0>e||e!==e)throw new TypeError("\"defaultMaxListeners\" must be a positive number");k=e}}):r.defaultMaxListeners=k,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||0>e||isNaN(e))throw new TypeError("\"n\" argument must be a positive number");return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return n(this)},r.prototype.emit=function(e){var t,r,n,o,u,m,_="error"===e;if(m=this._events,m)_=_&&null==m.error;else if(!_)return!1;if(_){if(1<arguments.length&&(t=arguments[1]),t instanceof Error)throw t;else{var c=new Error("Unhandled \"error\" event. ("+t+")");throw c.context=t,c}return!1}if(r=m[e],!r)return!1;var g="function"==typeof r;switch(n=arguments.length,n){case 1:a(r,g,this);break;case 2:s(r,g,this,arguments[1]);break;case 3:d(r,g,this,arguments[1],arguments[2]);break;case 4:l(r,g,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=Array(n-1),u=1;u<n;u++)o[u-1]=arguments[u];p(r,g,this,o);}return!0},r.prototype.addListener=function(e,t){return i(this,e,t,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return i(this,e,t,!0)},r.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError("\"listener\" argument must be a function");return this.on(e,m(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError("\"listener\" argument must be a function");return this.prependListener(e,m(this,e,t)),this},r.prototype.removeListener=function(e,t){var r,n,o,a,s;if("function"!=typeof t)throw new TypeError("\"listener\" argument must be a function");if(n=this._events,!n)return this;if(r=n[e],!r)return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=h(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,a=r.length-1;0<=a;a--)if(r[a]===t||r[a].listener===t){s=r[a].listener,o=a;break}if(0>o)return this;0===o?r.shift():g(r,o),1===r.length&&(n[e]=r[0]),n.removeListener&&this.emit("removeListener",e,s||t)}return this},r.prototype.removeAllListeners=function(e){var t,r,n;if(r=this._events,!r)return this;if(!r.removeListener)return 0===arguments.length?(this._events=h(null),this._eventsCount=0):r[e]&&(0==--this._eventsCount?this._events=h(null):delete r[e]),this;if(0===arguments.length){var o,a=y(r);for(n=0;n<a.length;++n)o=a[n],"removeListener"===o||this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=h(null),this._eventsCount=0,this}if(t=r[e],"function"==typeof t)this.removeListener(e,t);else if(t)for(n=t.length-1;0<=n;n--)this.removeListener(e,t[n]);return this},r.prototype.listeners=function(e){return _(this,e,!0)},r.prototype.rawListeners=function(e){return _(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):c.call(e,t)},r.prototype.listenerCount=c,r.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],9:[function(e,t,r){var n=Math.pow;r.read=function(t,r,o,a,l){var p,u,_=8*l-a-1,c=(1<<_)-1,g=c>>1,f=-7,E=o?l-1:0,h=o?-1:1,d=t[r+E];for(E+=h,p=d&(1<<-f)-1,d>>=-f,f+=_;0<f;p=256*p+t[r+E],E+=h,f-=8);for(u=p&(1<<-f)-1,p>>=-f,f+=a;0<f;u=256*u+t[r+E],E+=h,f-=8);if(0===p)p=1-g;else{if(p===c)return u?NaN:(d?-1:1)*(1/0);u+=n(2,a),p-=g}return(d?-1:1)*u*n(2,p-a)},r.write=function(t,r,o,a,l,p){var u,_,g,f=8*p-l-1,E=(1<<f)-1,h=E>>1,y=23===l?5.960464477539063e-8-6.617444900424222e-24:0,b=a?0:p-1,T=a?1:-1,d=0>r||0===r&&0>1/r?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(_=isNaN(r)?1:0,u=E):(u=Math.floor(Math.log(r)/Math.LN2),1>r*(g=n(2,-u))&&(u--,g*=2),r+=1<=u+h?y/g:y*n(2,1-h),2<=r*g&&(u++,g/=2),u+h>=E?(_=0,u=E):1<=u+h?(_=(r*g-1)*n(2,l),u+=h):(_=r*n(2,h-1)*n(2,l),u=0));8<=l;t[o+b]=255&_,b+=T,_/=256,l-=8);for(u=u<<l|_,f+=l;0<f;t[o+b]=255&u,b+=T,u/=256,f-=8);t[o+b-T]|=128*d}},{}],10:[function(e,t){function r(e){if(e+="",!(100<e.length)){var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();return"years"===n||"year"===n||"yrs"===n||"yr"===n||"y"===n?31557600000*r:"weeks"===n||"week"===n||"w"===n?604800000*r:"days"===n||"day"===n||"d"===n?86400000*r:"hours"===n||"hour"===n||"hrs"===n||"hr"===n||"h"===n?3600000*r:"minutes"===n||"minute"===n||"mins"===n||"min"===n||"m"===n?60000*r:"seconds"===n||"second"===n||"secs"===n||"sec"===n||"s"===n?1000*r:"milliseconds"===n||"millisecond"===n||"msecs"===n||"msec"===n||"ms"===n?r:void 0}}}function n(e){var t=i(e);return 86400000<=t?s(e/86400000)+"d":3600000<=t?s(e/3600000)+"h":60000<=t?s(e/60000)+"m":1000<=t?s(e/1000)+"s":e+"ms"}function o(e){var t=i(e);return 86400000<=t?a(e,t,86400000,"day"):3600000<=t?a(e,t,3600000,"hour"):60000<=t?a(e,t,60000,"minute"):1000<=t?a(e,t,1000,"second"):e+" ms"}function a(e,t,r,n){return s(e/r)+" "+n+(t>=1.5*r?"s":"")}var s=Math.round,i=Math.abs,l=86400000;t.exports=function(e,t){t=t||{};var a=typeof e;if("string"==a&&0<e.length)return r(e);if("number"==a&&!1===isNaN(e))return t.long?o(e):n(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],11:[function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(t){if(p===setTimeout)return setTimeout(t,0);if((p===r||!p)&&setTimeout)return p=setTimeout,setTimeout(t,0);try{return p(t,0)}catch(r){try{return p.call(null,t,0)}catch(r){return p.call(this,t,0)}}}function a(t){if(u===clearTimeout)return clearTimeout(t);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{return u(t)}catch(r){try{return u.call(null,t)}catch(r){return u.call(this,t)}}}function s(){g&&_&&(g=!1,_.length?c=_.concat(c):f=-1,c.length&&d())}function d(){if(!g){var e=o(s);g=!0;for(var t=c.length;t;){for(_=c,c=[];++f<t;)_&&_[f].run();f=-1,t=c.length}_=null,g=!1,a(e)}}function l(e,t){this.fun=e,this.array=t}function i(){}var p,u,m=t.exports={};(function(){try{p="function"==typeof setTimeout?setTimeout:r}catch(t){p=r}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(t){u=n}})();var _,c=[],g=!1,f=-1;m.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new l(e,t)),1!==c.length||g||o(d)},l.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=i,m.addListener=i,m.once=i,m.off=i,m.removeListener=i,m.removeAllListeners=i,m.emit=i,m.prependListener=i,m.prependOnceListener=i,m.listeners=function(){return[]},m.binding=function(){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},{}]},{},[3]);